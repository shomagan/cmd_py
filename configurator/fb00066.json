{"nodes":[{"name":"{","group":8,"x":40,"y":40,"pos":1},
{"name":"u8 FBkernelRate;","group":8,"x":40,"y":60,"pos":2},
{"name":"  fb00066_IN_type *IN = (fb00066_IN_type *) FBInputs;","group":8,"x":40,"y":80,"pos":3},
{"name":"  fb00066_VAR_type *VAR = (fb00066_VAR_type *) FBVars;","group":8,"x":40,"y":100,"pos":4},
{"name":"  fb00066_OUT_type *OUT = (fb00066_OUT_type *) FBOutputs;","group":8,"x":40,"y":120,"pos":5},
{"name":"","group":8,"x":40,"y":140,"pos":6},
{"name":"  OUT->GP_ON.Data.bit = OUT->GP_OFF.Data.bit = OUT->EndPeriod.Data.bit = 0;","group":8,"x":40,"y":160,"pos":7},
{"name":"  ","group":8,"x":40,"y":180,"pos":8},
{"name":"if (KernelInfo.EventFlags.Bit.CfgFirstSec&&(IN->KodPSM.Data.uint8 & 0x0F)) {","group":1,"x":80,"y":200,"pos":9},
{"name":"OUT->TimerUstOut.Data.uint16 = OUT->TimerOut.Data.uint16 = 0;","group":8,"x":80,"y":220,"pos":10},
{"name":"OUT->GZUsost.Data.uint16=0;","group":8,"x":80,"y":240,"pos":11},
{"name":"OUT->ManualOtvNum.Data.uint8=IN->KodPSM.Data.uint8 & 0x0F; ","group":8,"x":80,"y":260,"pos":12},
{"name":"if (KernelInfo.EventFlags.Bit.CfgFirstSec&&(IN->KodPSM.Data.uint8 & 0x0F)) {","group":8,"x":40,"y":280,"pos":13},
{"name":"FBkernelRate = KernelInfo.FBkernelRate;","group":8,"x":40,"y":300,"pos":14},
{"name":"  if ((FB_N_In!=17)||(FB_N_Vars!=6)||(FB_N_Out!=9)){","group":1,"x":80,"y":320,"pos":15},
{"name":"    LedErrorOn(30);","group":8,"x":80,"y":340,"pos":16},
{"name":"  if ((FB_N_In!=17)||(FB_N_Vars!=6)||(FB_N_Out!=9)){","group":8,"x":40,"y":360,"pos":17},
{"name":"","group":8,"x":40,"y":380,"pos":18},
{"name":"  if (IN->Enable.Data.bit) ","group":1,"x":80,"y":400,"pos":19},
{"name":"    if (IN->Hold.Data.bit)   ","group":1,"x":120,"y":440,"pos":20},
{"name":"      OUT->GZUsost.Data.uint16 |= Holded;","group":8,"x":80,"y":460,"pos":21},
{"name":"    else                     ","group":2,"x":120,"y":480,"pos":22},
{"name":"      OUT->GZUsost.Data.uint16 &= ~Holded;","group":8,"x":120,"y":500,"pos":23},
{"name":"      if ( (IN->GP_enabled.Data.bit) && ((OUT->GZUsost.Data.uint16 & GP_En) == 0) ) ","group":1,"x":160,"y":520,"pos":24},
{"name":"        OUT->GZUsost.Data.uint16 = 0;","group":8,"x":160,"y":540,"pos":25},
{"name":"        VAR->TryCount.Data.uint8 = 0;","group":8,"x":160,"y":560,"pos":26},
{"name":"        VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":160,"y":580,"pos":27},
{"name":"      {","group":8,"x":120,"y":600,"pos":28},
{"name":"      OUT->GZUsost.Data.uint16 |= Enabled;","group":8,"x":120,"y":620,"pos":29},
{"name":"","group":8,"x":120,"y":640,"pos":30},
{"name":"","group":8,"x":120,"y":660,"pos":31},
{"name":"      if (IN->ManualOtvNum.Data.uint8 != OUT->ManualOtvNum.Data.uint8)    ","group":1,"x":160,"y":680,"pos":32},
{"name":"        if (IN->ManualOtvNum.Data.uint8 <= IN->GZU_OtvNum.Data.uint8)     ","group":1,"x":200,"y":700,"pos":33},
{"name":"          ","group":8,"x":200,"y":720,"pos":34},
{"name":"           ","group":8,"x":200,"y":740,"pos":35},
{"name":"","group":8,"x":200,"y":760,"pos":36},
{"name":"          if (IN->ManualOtvNum.Data.uint8 == 0)   ","group":1,"x":240,"y":780,"pos":37},
{"name":"            OUT->GZUsost.Data.uint16 &= ~(Stop | FullStop | TryCnt0 | GPbraked | PSMbraked | Manual);  ","group":8,"x":240,"y":800,"pos":38},
{"name":"            ","group":8,"x":240,"y":820,"pos":39},
{"name":"","group":8,"x":240,"y":840,"pos":40},
{"name":"            OUT->TekOtvod.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":240,"y":860,"pos":41},
{"name":"","group":8,"x":240,"y":880,"pos":42},
{"name":"            OUT->GP_OFF.Data.bit = 1;","group":8,"x":240,"y":900,"pos":43},
{"name":"            ","group":8,"x":240,"y":920,"pos":44},
{"name":"            ","group":8,"x":240,"y":940,"pos":45},
{"name":"            VAR->TryCount.Data.uint8 = VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":240,"y":960,"pos":46},
{"name":"VAR->TempExtra.Data.uint8 = 0;","group":8,"x":240,"y":980,"pos":47},
{"name":"            if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":280,"y":1020,"pos":48},
{"name":"              VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F) - 1;","group":8,"x":240,"y":1040,"pos":49},
{"name":"            else if (IN->KodPSM.Data.uint8 & 0x0F)","group":1,"x":280,"y":1080,"pos":50},
{"name":"              VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":240,"y":1100,"pos":51},
{"name":"          {","group":8,"x":200,"y":1120,"pos":52},
{"name":"          {","group":8,"x":200,"y":1140,"pos":53},
{"name":"            OUT->GZUsost.Data.uint16 &= ~(Stop | FullStop | TryCnt0 | GPbraked | PSMbraked);","group":8,"x":200,"y":1160,"pos":54},
{"name":"            ","group":8,"x":200,"y":1180,"pos":55},
{"name":"VAR->TempExtra.Data.uint8 = 0;","group":8,"x":200,"y":1200,"pos":56},
{"name":"            if ((IN->KodPSM.Data.uint8 & 0x0F) == IN->ManualOtvNum.Data.uint8)        ","group":1,"x":240,"y":1220,"pos":57},
{"name":"              OUT->GP_OFF.Data.bit = 1;","group":8,"x":240,"y":1240,"pos":58},
{"name":"              ","group":8,"x":240,"y":1260,"pos":59},
{"name":"             ","group":8,"x":240,"y":1280,"pos":60},
{"name":"","group":8,"x":240,"y":1300,"pos":61},
{"name":"              if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":280,"y":1340,"pos":62},
{"name":"                VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F) - 1;","group":8,"x":240,"y":1360,"pos":63},
{"name":"              else if (IN->KodPSM.Data.uint8 & 0x0F)","group":1,"x":280,"y":1400,"pos":64},
{"name":"                VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":240,"y":1420,"pos":65},
{"name":"            {","group":8,"x":200,"y":1440,"pos":66},
{"name":"","group":8,"x":200,"y":1460,"pos":67},
{"name":"            OUT->TekOtvod.Data.uint8 = IN->ManualOtvNum.Data.uint8;","group":8,"x":200,"y":1480,"pos":68},
{"name":"            VAR->TryCount.Data.uint8 = VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":200,"y":1500,"pos":69},
{"name":"            OUT->GZUsost.Data.uint16 |= Manual;","group":8,"x":200,"y":1520,"pos":70},
{"name":"        {","group":8,"x":160,"y":1540,"pos":71},
{"name":"      {","group":8,"x":120,"y":1560,"pos":72},
{"name":"    {","group":8,"x":80,"y":1580,"pos":73},
{"name":"  ","group":8,"x":80,"y":1600,"pos":74},
{"name":"      if (IN->ExtraOtvNum.Data.uint8 && (IN->ExtraOtvNum.Data.uint8 <= IN->GZU_OtvNum.Data.uint8)) {    ","group":1,"x":120,"y":1620,"pos":75},
{"name":"      ","group":8,"x":120,"y":1640,"pos":76},
{"name":"       ","group":8,"x":120,"y":1660,"pos":77},
{"name":"         ","group":8,"x":120,"y":1680,"pos":78},
{"name":"       ","group":8,"x":120,"y":1700,"pos":79},
{"name":"          VAR->TempExtra.Data.uint8 = IN->ExtraOtvNum.Data.uint8; ","group":8,"x":120,"y":1720,"pos":80},
{"name":"       ","group":8,"x":120,"y":1740,"pos":81},
{"name":"      if (IN->ExtraOtvNum.Data.uint8 && (IN->ExtraOtvNum.Data.uint8 <= IN->GZU_OtvNum.Data.uint8)) {    ","group":8,"x":80,"y":1760,"pos":82},
{"name":"      if ((IN->GP_enabled.Data.bit) && !(OUT->GZUsost.Data.uint16 & (Forward | Reverse | GPbraked)) && (VAR->TempExtra.Data.uint8 != 0)) { ","group":1,"x":120,"y":1780,"pos":83},
{"name":"        if (IN->KodPSM.Data.uint8 != VAR->TempExtra.Data.uint8) {","group":1,"x":160,"y":1800,"pos":84},
{"name":"          if (OUT->GZUsost.Data.uint16 & Zamer) {OUT->EndPeriod.Data.bit = 1; }","group":1,"x":200,"y":1820,"pos":85},
{"name":"          OUT->GZUsost.Data.uint16 &= ~(Stab |Stop | FullStop | Zamer  | PSMbraked | GPbraked | TryCnt0 | Kluch);  // —брасываем все","group":8,"x":160,"y":1840,"pos":86},
{"name":"          OUT->GZUsost.Data.uint16 |= NeedPerevod; ","group":8,"x":160,"y":1860,"pos":87},
{"name":"        } else {","group":2,"x":160,"y":1880,"pos":88},
{"name":"          VAR->TempExtra.Data.uint8 = 0; ","group":8,"x":160,"y":1900,"pos":89},
{"name":"        } else {","group":8,"x":120,"y":1920,"pos":90},
{"name":"        if (IN->KodPSM.Data.uint8 != VAR->TempExtra.Data.uint8) {","group":8,"x":80,"y":1940,"pos":91},
{"name":"","group":8,"x":80,"y":1960,"pos":92},
{"name":"      if ( IN->CmdStopReset.Data.bit && (OUT->GZUsost.Data.uint16 & (Stop | FullStop)) ) ","group":1,"x":120,"y":1980,"pos":93},
{"name":"        OUT->GZUsost.Data.uint16 &= ~(Stop | FullStop | TryCnt0 | GPbraked | PSMbraked | Manual);  ","group":8,"x":120,"y":2000,"pos":94},
{"name":"","group":8,"x":120,"y":2020,"pos":95},
{"name":"        if (OUT->GZUsost.Data.uint16 & Zamer)","group":1,"x":160,"y":2060,"pos":96},
{"name":"          OUT->EndPeriod.Data.bit = 1;","group":8,"x":120,"y":2080,"pos":97},
{"name":"        OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer | Kluch);  ","group":8,"x":120,"y":2100,"pos":98},
{"name":"        OUT->GZUsost.Data.uint16 |= Reverse;","group":8,"x":120,"y":2120,"pos":99},
{"name":"        OUT->GP_OFF.Data.bit = 1;","group":8,"x":120,"y":2140,"pos":100},
{"name":"        VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16*FBkernelRate;","group":8,"x":120,"y":2160,"pos":101},
{"name":"        VAR->TryCount.Data.uint8 = VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":120,"y":2180,"pos":102},
{"name":"VAR->TempExtra.Data.uint8 = 0;","group":8,"x":120,"y":2200,"pos":103},
{"name":"        if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":160,"y":2240,"pos":104},
{"name":"          VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F) - 1;","group":8,"x":120,"y":2260,"pos":105},
{"name":"        else if (IN->KodPSM.Data.uint8 & 0x0F)","group":1,"x":160,"y":2300,"pos":106},
{"name":"          VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":120,"y":2320,"pos":107},
{"name":"      {","group":8,"x":80,"y":2340,"pos":108},
{"name":"","group":8,"x":80,"y":2360,"pos":109},
{"name":"","group":8,"x":80,"y":2380,"pos":110},
{"name":"      if (IN->CmdSwitchOtv.Data.bit) ","group":1,"x":120,"y":2400,"pos":111},
{"name":"        OUT->GZUsost.Data.uint16 &= ~(Stop | FullStop | TryCnt0 | GPbraked | PSMbraked);  ","group":8,"x":120,"y":2420,"pos":112},
{"name":"        ","group":8,"x":120,"y":2440,"pos":113},
{"name":"        if (OUT->GZUsost.Data.uint16 & Manual1Cnt)","group":1,"x":160,"y":2480,"pos":114},
{"name":"          OUT->GZUsost.Data.uint16 &= ~(Manual1Cnt); ","group":8,"x":120,"y":2500,"pos":115},
{"name":"        if (OUT->GZUsost.Data.uint16 & Zamer)","group":1,"x":160,"y":2540,"pos":116},
{"name":"          OUT->EndPeriod.Data.bit = 1;","group":8,"x":120,"y":2560,"pos":117},
{"name":"        VAR->TryCount.Data.uint8 = VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":120,"y":2580,"pos":118},
{"name":"        OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer | Kluch);  ","group":8,"x":120,"y":2600,"pos":119},
{"name":"        OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":120,"y":2620,"pos":120},
{"name":"u8 otvod;","group":8,"x":120,"y":2640,"pos":121},
{"name":"otvod = (IN->KodPSM.Data.uint8 + 1) & 0x0F;","group":8,"x":120,"y":2660,"pos":122},
{"name":"if (otvod) VAR->TempExtra.Data.uint8 = otvod;","group":1,"x":160,"y":2700,"pos":123},
{"name":"else VAR->TempExtra.Data.uint8 = 1;","group":8,"x":120,"y":2720,"pos":124},
{"name":"      {","group":8,"x":80,"y":2740,"pos":125},
{"name":"","group":8,"x":80,"y":2760,"pos":126},
{"name":"","group":8,"x":80,"y":2780,"pos":127},
{"name":"      ","group":8,"x":80,"y":2800,"pos":128},
{"name":"      if (!(OUT->GZUsost.Data.uint16 & (Stop | FullStop | GPbraked) ) )","group":1,"x":120,"y":2820,"pos":129},
{"name":"        if (VAR->Timer1.Data.uint32)","group":1,"x":160,"y":2860,"pos":130},
{"name":"          VAR->Timer1.Data.uint32--;","group":8,"x":120,"y":2880,"pos":131},
{"name":"","group":8,"x":120,"y":2900,"pos":132},
{"name":"","group":8,"x":120,"y":2920,"pos":133},
{"name":"        if ((OUT->GZUsost.Data.uint16 & (Stab | Forward | Reverse | Zamer)) == 0) ","group":1,"x":160,"y":2940,"pos":134},
{"name":"          if ( ((IN->KodPSM.Data.uint8 & 0x0F) == 0) || ((IN->KodPSM.Data.uint8 & 0x0F) > IN->GZU_OtvNum.Data.uint8) )","group":1,"x":200,"y":2980,"pos":135},
{"name":"            OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":160,"y":3000,"pos":136},
{"name":"","group":8,"x":160,"y":3020,"pos":137},
{"name":"          if (OUT->GZUsost.Data.uint16 & NeedPerevod) ","group":1,"x":200,"y":3040,"pos":138},
{"name":"            if (IN->GP_enabled.Data.bit)   ","group":1,"x":240,"y":3060,"pos":139},
{"name":"              OUT->GZUsost.Data.uint16 &= ~NeedPerevod;","group":8,"x":240,"y":3080,"pos":140},
{"name":"              OUT->GZUsost.Data.uint16 |= Forward;","group":8,"x":240,"y":3100,"pos":141},
{"name":"              OUT->GP_ON.Data.bit = 1;","group":8,"x":240,"y":3120,"pos":142},
{"name":"              VAR->Timer1.Data.uint32 = IN->ForwardTime.Data.uint16 * FBkernelRate;","group":8,"x":240,"y":3140,"pos":143},
{"name":"OUT->TimerUstOut.Data.uint16 = IN->ForwardTime.Data.uint16;","group":8,"x":240,"y":3160,"pos":144},
{"name":"              if (IN->KodPSM.Data.uint8 & 0x0F)","group":1,"x":280,"y":3200,"pos":145},
{"name":"                VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":240,"y":3220,"pos":146},
{"name":"            {","group":8,"x":200,"y":3240,"pos":147},
{"name":"            else                              ","group":2,"x":240,"y":3260,"pos":148},
{"name":"              if ((IN->KodPSM.Data.uint8 & 0x0F) == 1)","group":1,"x":280,"y":3300,"pos":149},
{"name":"                VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":240,"y":3320,"pos":150},
{"name":"              else if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":280,"y":3360,"pos":151},
{"name":"                VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F)-1;","group":8,"x":240,"y":3380,"pos":152},
{"name":"","group":8,"x":240,"y":3400,"pos":153},
{"name":"              OUT->GZUsost.Data.uint16 &= ~NeedPerevod;","group":8,"x":240,"y":3420,"pos":154},
{"name":"              OUT->GZUsost.Data.uint16 |= (Reverse | Manual);","group":8,"x":240,"y":3440,"pos":155},
{"name":"              OUT->GP_OFF.Data.bit = 1;","group":8,"x":240,"y":3460,"pos":156},
{"name":"              VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16 * FBkernelRate;","group":8,"x":240,"y":3480,"pos":157},
{"name":"OUT->TimerUstOut.Data.uint16 = IN->ReverseTime.Data.uint16;","group":8,"x":240,"y":3500,"pos":158},
{"name":"            {","group":8,"x":200,"y":3520,"pos":159},
{"name":"          {","group":8,"x":160,"y":3540,"pos":160},
{"name":"          else","group":2,"x":200,"y":3560,"pos":161},
{"name":"            ","group":8,"x":200,"y":3580,"pos":162},
{"name":"            if  ( ( ((OUT->GZUsost.Data.uint16 & Manual) == 0) && (IN->OtvMask.Data.uint16 & (1 << ((IN->KodPSM.Data.uint8 & 0x0F) - 1))) && ((IN->KodPSM.Data.uint8 & 0x0F) == OUT->ManualOtvNum.Data.uint8)) ||               ( (OUT->GZUsost.Data.uint16 & Manual) && ((IN->KodPSM.Data.uint8 & 0x0F) == OUT->ManualOtvNum.Data.uint8) ) )","group":1,"x":240,"y":3600,"pos":163},
{"name":"              OUT->GZUsost.Data.uint16 |= Stab;","group":8,"x":240,"y":3620,"pos":164},
{"name":"              VAR->Timer1.Data.uint32 = IN->StabTime.Data.uint16 * FBkernelRate;","group":8,"x":240,"y":3640,"pos":165},
{"name":"OUT->TimerUstOut.Data.uint16=IN->StabTime.Data.uint16;","group":8,"x":240,"y":3660,"pos":166},
{"name":"              VAR->Timer2.Data.uint32 = 0;","group":8,"x":240,"y":3680,"pos":167},
{"name":"              OUT->TekOtvod.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":240,"y":3700,"pos":168},
{"name":"              VAR->TryCount.Data.uint8 = 0;","group":8,"x":240,"y":3720,"pos":169},
{"name":"","group":8,"x":240,"y":3740,"pos":170},
{"name":"              if (IN->KodPSM.Data.uint8 & 0x0F)","group":1,"x":280,"y":3780,"pos":171},
{"name":"                VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":240,"y":3800,"pos":172},
{"name":"            {","group":8,"x":200,"y":3820,"pos":173},
{"name":"            else ","group":2,"x":240,"y":3860,"pos":174},
{"name":"              OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":200,"y":3880,"pos":175},
{"name":"          {","group":8,"x":160,"y":3900,"pos":176},
{"name":"        {","group":8,"x":120,"y":3920,"pos":177},
{"name":"","group":8,"x":120,"y":3940,"pos":178},
{"name":"        else if (OUT->GZUsost.Data.uint16 & Forward)                            ","group":1,"x":160,"y":3960,"pos":179},
{"name":"if (IN->ForwardTime.Data.uint16!=OUT->TimerUstOut.Data.uint16) ","group":1,"x":200,"y":3980,"pos":180},
{"name":"if (IN->ForwardTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":1,"x":240,"y":4000,"pos":181},
{"name":"OUT->TimerUstOut.Data.uint16 = 0;","group":8,"x":240,"y":4020,"pos":182},
{"name":"VAR->Timer1.Data.uint32=0;","group":8,"x":240,"y":4040,"pos":183},
{"name":"} else {","group":2,"x":240,"y":4060,"pos":184},
{"name":"VAR->Timer1.Data.uint32 = (IN->ForwardTime.Data.uint16 - OUT->TimerOut.Data.uint16) * FBkernelRate; ","group":8,"x":240,"y":4080,"pos":185},
{"name":"OUT->TimerUstOut.Data.uint16=IN->ForwardTime.Data.uint16;","group":8,"x":240,"y":4100,"pos":186},
{"name":"} else {","group":8,"x":200,"y":4120,"pos":187},
{"name":"if (IN->ForwardTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":8,"x":160,"y":4140,"pos":188},
{"name":"          OUT->TimerOut.Data.uint16 = (FBkernelRate) ? (IN->ForwardTime.Data.uint16 - (VAR->Timer1.Data.uint32 / FBkernelRate)) : 0;","group":8,"x":160,"y":4160,"pos":189},
{"name":"","group":8,"x":160,"y":4180,"pos":190},
{"name":"          if ((!VAR->Timer1.Data.uint32) || (!IN->GP_enabled.Data.bit) )","group":1,"x":200,"y":4200,"pos":191},
{"name":"            OUT->GZUsost.Data.uint16 &= ~Forward;","group":8,"x":200,"y":4220,"pos":192},
{"name":"            OUT->GZUsost.Data.uint16 |= Reverse;","group":8,"x":200,"y":4240,"pos":193},
{"name":"            OUT->GP_OFF.Data.bit = 1;","group":8,"x":200,"y":4260,"pos":194},
{"name":"            VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16*FBkernelRate;","group":8,"x":200,"y":4280,"pos":195},
{"name":"            OUT->TimerUstOut.Data.uint16 = IN->ReverseTime.Data.uint16;","group":8,"x":200,"y":4300,"pos":196},
{"name":"          {","group":8,"x":160,"y":4320,"pos":197},
{"name":"{","group":8,"x":120,"y":4340,"pos":198},
{"name":"","group":8,"x":120,"y":4360,"pos":199},
{"name":"        else if (OUT->GZUsost.Data.uint16 & Reverse)                            ","group":1,"x":160,"y":4380,"pos":200},
{"name":"if (IN->ReverseTime.Data.uint16!=OUT->TimerUstOut.Data.uint16) ","group":1,"x":200,"y":4400,"pos":201},
{"name":"if (IN->ReverseTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":1,"x":240,"y":4420,"pos":202},
{"name":"OUT->TimerUstOut.Data.uint16 = 0;","group":8,"x":240,"y":4440,"pos":203},
{"name":"VAR->Timer1.Data.uint32=0;","group":8,"x":240,"y":4460,"pos":204},
{"name":"} else {","group":2,"x":240,"y":4480,"pos":205},
{"name":"VAR->Timer1.Data.uint32 = (IN->ReverseTime.Data.uint16 - OUT->TimerOut.Data.uint16) * FBkernelRate; ","group":8,"x":240,"y":4500,"pos":206},
{"name":"OUT->TimerUstOut.Data.uint16=IN->ReverseTime.Data.uint16;","group":8,"x":240,"y":4520,"pos":207},
{"name":"} else {","group":8,"x":200,"y":4540,"pos":208},
{"name":"if (IN->ReverseTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":8,"x":160,"y":4560,"pos":209},
{"name":"          OUT->TimerOut.Data.uint16 = (FBkernelRate) ? (IN->ReverseTime.Data.uint16 - (VAR->Timer1.Data.uint32 / FBkernelRate)) : 0;","group":8,"x":160,"y":4580,"pos":210},
{"name":"          ","group":8,"x":160,"y":4600,"pos":211},
{"name":"if (!VAR->Timer1.Data.uint32)","group":1,"x":200,"y":4620,"pos":212},
{"name":"            OUT->GZUsost.Data.uint16 &= ~Reverse;","group":8,"x":200,"y":4640,"pos":213},
{"name":"","group":8,"x":200,"y":4660,"pos":214},
{"name":"            if (OUT->GZUsost.Data.uint16 & NeedPerevod) ","group":1,"x":240,"y":4700,"pos":215},
{"name":"              OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer);  ","group":8,"x":200,"y":4720,"pos":216},
{"name":"            else","group":2,"x":240,"y":4740,"pos":217},
{"name":"              if ( ((OUT->GZUsost.Data.uint16 & Kluch) == 0) || ((OUT->GZUsost.Data.uint16 & Manual) == 0) )","group":1,"x":280,"y":4760,"pos":218},
{"name":"                ","group":8,"x":280,"y":4780,"pos":219},
{"name":"                ","group":8,"x":280,"y":4800,"pos":220},
{"name":"                if (VAR->KodPSMOld.Data.uint8 == (IN->KodPSM.Data.uint8 & 0x0F))","group":1,"x":320,"y":4840,"pos":221},
{"name":"                  OUT->GZUsost.Data.uint16 |= (GPbraked | Stop);        ","group":8,"x":280,"y":4860,"pos":222},
{"name":"                else if (((IN->KodPSM.Data.uint8 & 0x0F) == 0) || ((IN->KodPSM.Data.uint8 & 0x0F) > IN->GZU_OtvNum.Data.uint8))","group":1,"x":320,"y":4900,"pos":223},
{"name":"                  OUT->GZUsost.Data.uint16 |= (PSMbraked | Stop);       ","group":8,"x":280,"y":4920,"pos":224},
{"name":"                else if (VAR->KodPSMOld.Data.uint8 >= IN->GZU_OtvNum.Data.uint8) ","group":1,"x":320,"y":4940,"pos":225},
{"name":"                  if ((IN->KodPSM.Data.uint8 & 0x0F) > 1){","group":1,"x":360,"y":4960,"pos":226},
{"name":"                    OUT->GZUsost.Data.uint16 |= (PSMbraked | Stop);       ","group":8,"x":360,"y":4980,"pos":227},
{"name":"}else{","group":2,"x":360,"y":5000,"pos":228},
{"name":"VAR->TryCount.Data.uint8 = 0;","group":8,"x":360,"y":5020,"pos":229},
{"name":"}else{","group":8,"x":320,"y":5040,"pos":230},
{"name":"                  if ((IN->KodPSM.Data.uint8 & 0x0F) > 1){","group":8,"x":280,"y":5060,"pos":231},
{"name":"                else if ((IN->KodPSM.Data.uint8 & 0x0F) != (VAR->KodPSMOld.Data.uint8 + 1)){","group":1,"x":320,"y":5080,"pos":232},
{"name":"                  OUT->GZUsost.Data.uint16 |= (PSMbraked | Stop);       ","group":8,"x":320,"y":5100,"pos":233},
{"name":"}else{","group":2,"x":320,"y":5120,"pos":234},
{"name":"VAR->TryCount.Data.uint8 = 0;","group":8,"x":320,"y":5140,"pos":235},
{"name":"}else{","group":8,"x":280,"y":5160,"pos":236},
{"name":"                ","group":8,"x":280,"y":5180,"pos":237},
{"name":"                else if ((IN->KodPSM.Data.uint8 & 0x0F) != (VAR->KodPSMOld.Data.uint8 + 1)){","group":8,"x":240,"y":5200,"pos":238},
{"name":"","group":8,"x":240,"y":5220,"pos":239},
{"name":"              if ((OUT->GZUsost.Data.uint16 & (PSMbraked | GPbraked | Stop)) == 0)  ","group":1,"x":280,"y":5240,"pos":240},
{"name":"                OUT->TekOtvod.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":280,"y":5260,"pos":241},
{"name":"","group":8,"x":280,"y":5280,"pos":242},
{"name":"                if ( (OUT->GZUsost.Data.uint16 & Manual) == 0)  ","group":1,"x":320,"y":5300,"pos":243},
{"name":"                  if (IN->OtvMask.Data.uint16 & (1 << ((IN->KodPSM.Data.uint8 & 0x0F) - 1)) ) ","group":1,"x":360,"y":5320,"pos":244},
{"name":"                    OUT->GZUsost.Data.uint16 |= Stab;","group":8,"x":360,"y":5340,"pos":245},
{"name":"                    VAR->Timer1.Data.uint32 = IN->StabTime.Data.uint16 * FBkernelRate;","group":8,"x":360,"y":5360,"pos":246},
{"name":"                    VAR->Timer2.Data.uint32 = 0;","group":8,"x":360,"y":5380,"pos":247},
{"name":"                    VAR->TryCount.Data.uint8 = 0;","group":8,"x":360,"y":5400,"pos":248},
{"name":"                  {","group":8,"x":320,"y":5420,"pos":249},
{"name":"                  else","group":2,"x":360,"y":5440,"pos":250},
{"name":"                    if (VAR->TryCount.Data.uint8 < IN->TryNum.Data.uint8){","group":1,"x":400,"y":5460,"pos":251},
{"name":"                      OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer);  ","group":8,"x":400,"y":5480,"pos":252},
{"name":"                      OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":400,"y":5500,"pos":253},
{"name":"                      VAR->TryCount.Data.uint8++;","group":8,"x":400,"y":5520,"pos":254},
{"name":"                    if (VAR->TryCount.Data.uint8 < IN->TryNum.Data.uint8){","group":8,"x":360,"y":5540,"pos":255},
{"name":"                    else{","group":2,"x":400,"y":5560,"pos":256},
{"name":"                      OUT->GZUsost.Data.uint16 |= (Stop | TryCnt0);","group":8,"x":400,"y":5580,"pos":257},
{"name":"                      VAR->Timer2.Data.uint32 = IN->APV_interval.Data.uint16 * 60 * FBkernelRate;  ","group":8,"x":400,"y":5600,"pos":258},
{"name":"                    else{","group":8,"x":360,"y":5620,"pos":259},
{"name":"                  {","group":8,"x":320,"y":5640,"pos":260},
{"name":"                {","group":8,"x":280,"y":5660,"pos":261},
{"name":"                else    ","group":2,"x":320,"y":5680,"pos":262},
{"name":"                  if ( ((IN->KodPSM.Data.uint8 & 0x0F) == OUT->ManualOtvNum.Data.uint8) || (OUT->GZUsost.Data.uint16 & Manual1Cnt) ) ","group":1,"x":360,"y":5700,"pos":263},
{"name":"                    OUT->GZUsost.Data.uint16 |= Stab;","group":8,"x":360,"y":5720,"pos":264},
{"name":"                    VAR->Timer1.Data.uint32 = IN->StabTime.Data.uint16 * FBkernelRate;","group":8,"x":360,"y":5740,"pos":265},
{"name":"                    VAR->Timer2.Data.uint32 = 0;","group":8,"x":360,"y":5760,"pos":266},
{"name":"                    VAR->TryCount.Data.uint8 = 0;","group":8,"x":360,"y":5780,"pos":267},
{"name":"                  {","group":8,"x":320,"y":5800,"pos":268},
{"name":"                  else    ","group":2,"x":360,"y":5820,"pos":269},
{"name":"                    if (VAR->TryCount.Data.uint8 < IN->TryNum.Data.uint8)","group":1,"x":400,"y":5840,"pos":270},
{"name":"                      OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer);  ","group":8,"x":400,"y":5860,"pos":271},
{"name":"                      OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":400,"y":5880,"pos":272},
{"name":"                      VAR->TryCount.Data.uint8++;","group":8,"x":400,"y":5900,"pos":273},
{"name":"                    {","group":8,"x":360,"y":5920,"pos":274},
{"name":"                    else","group":2,"x":400,"y":5940,"pos":275},
{"name":"                      OUT->GZUsost.Data.uint16 |= (Stop | TryCnt0);","group":8,"x":400,"y":5960,"pos":276},
{"name":"                      VAR->Timer2.Data.uint32 = IN->APV_interval.Data.uint16 * 60 * FBkernelRate;  ","group":8,"x":400,"y":5980,"pos":277},
{"name":"                    {","group":8,"x":360,"y":6000,"pos":278},
{"name":"                  {","group":8,"x":320,"y":6020,"pos":279},
{"name":"                {","group":8,"x":280,"y":6040,"pos":280},
{"name":"              {","group":8,"x":240,"y":6060,"pos":281},
{"name":"              else","group":2,"x":280,"y":6080,"pos":282},
{"name":"                if (OUT->GZUsost.Data.uint16 & Stop)","group":1,"x":320,"y":6120,"pos":283},
{"name":"                  VAR->Timer2.Data.uint32 = IN->APV_interval.Data.uint16 * 60 * FBkernelRate;  ","group":8,"x":280,"y":6140,"pos":284},
{"name":"              {","group":8,"x":240,"y":6160,"pos":285},
{"name":"                {","group":8,"x":200,"y":6180,"pos":286},
{"name":"              {","group":8,"x":160,"y":6200,"pos":287},
{"name":"            {","group":8,"x":120,"y":6220,"pos":288},
{"name":"","group":8,"x":120,"y":6240,"pos":289},
{"name":"        else if (OUT->GZUsost.Data.uint16 & Stab)                            ","group":1,"x":160,"y":6260,"pos":290},
{"name":"if (IN->StabTime.Data.uint16!=OUT->TimerUstOut.Data.uint16) ","group":1,"x":200,"y":6280,"pos":291},
{"name":"if (IN->StabTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":1,"x":240,"y":6300,"pos":292},
{"name":"OUT->TimerUstOut.Data.uint16 = 0;","group":8,"x":240,"y":6320,"pos":293},
{"name":"VAR->Timer1.Data.uint32=0;","group":8,"x":240,"y":6340,"pos":294},
{"name":"} else {","group":2,"x":240,"y":6360,"pos":295},
{"name":"VAR->Timer1.Data.uint32 = (IN->StabTime.Data.uint16 - OUT->TimerOut.Data.uint16) * FBkernelRate; ","group":8,"x":240,"y":6380,"pos":296},
{"name":"OUT->TimerUstOut.Data.uint16=IN->StabTime.Data.uint16;","group":8,"x":240,"y":6400,"pos":297},
{"name":"} else {","group":8,"x":200,"y":6420,"pos":298},
{"name":"if (IN->StabTime.Data.uint16<=OUT->TimerOut.Data.uint16) { ","group":8,"x":160,"y":6440,"pos":299},
{"name":"          OUT->TimerOut.Data.uint16 = (FBkernelRate) ? (IN->StabTime.Data.uint16 - (VAR->Timer1.Data.uint32 / FBkernelRate)) : 0;","group":8,"x":160,"y":6460,"pos":300},
{"name":"          if (!VAR->Timer1.Data.uint32)","group":1,"x":200,"y":6480,"pos":301},
{"name":"            OUT->GZUsost.Data.uint16 &= ~Stab;","group":8,"x":200,"y":6500,"pos":302},
{"name":"            OUT->GZUsost.Data.uint16 |= Zamer;","group":8,"x":200,"y":6520,"pos":303},
{"name":"          {","group":8,"x":160,"y":6540,"pos":304},
{"name":"          else","group":2,"x":200,"y":6560,"pos":305},
{"name":"            if ((IN->KodPSM.Data.uint8 & 0x0F) != OUT->TekOtvod.Data.uint8) ","group":1,"x":240,"y":6600,"pos":306},
{"name":"              OUT->GZUsost.Data.uint16 |= Kluch;","group":8,"x":200,"y":6620,"pos":307},
{"name":"            else","group":2,"x":240,"y":6640,"pos":308},
{"name":"              OUT->GZUsost.Data.uint16 &= ~Kluch;","group":8,"x":240,"y":6660,"pos":309},
{"name":"              VAR->Timer2.Data.uint16 = 0;","group":8,"x":240,"y":6680,"pos":310},
{"name":"            {","group":8,"x":200,"y":6700,"pos":311},
{"name":"","group":8,"x":200,"y":6720,"pos":312},
{"name":"            if (OUT->GZUsost.Data.uint16 & Kluch)","group":1,"x":240,"y":6740,"pos":313},
{"name":"              if (++VAR->Timer2.Data.uint16 > (KluchDelay*FBkernelRate))  ","group":1,"x":280,"y":6760,"pos":314},
{"name":"                if ((IN->KodPSM.Data.uint8 & 0x0F) == 1)","group":1,"x":320,"y":6800,"pos":315},
{"name":"                  VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":280,"y":6820,"pos":316},
{"name":"                else if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":320,"y":6860,"pos":317},
{"name":"                  VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F)-1;","group":8,"x":280,"y":6880,"pos":318},
{"name":"","group":8,"x":280,"y":6900,"pos":319},
{"name":"                OUT->GZUsost.Data.uint16 &= ~Stab;","group":8,"x":280,"y":6920,"pos":320},
{"name":"                OUT->GZUsost.Data.uint16 &= ~Kluch;","group":8,"x":280,"y":6940,"pos":321},
{"name":"                OUT->GZUsost.Data.uint16 |= (Reverse | Manual | Manual1Cnt);","group":8,"x":280,"y":6960,"pos":322},
{"name":"                OUT->GP_OFF.Data.bit = 1;","group":8,"x":280,"y":6980,"pos":323},
{"name":"                OUT->EndPeriod.Data.bit = 1;","group":8,"x":280,"y":7000,"pos":324},
{"name":"                VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16 * FBkernelRate;","group":8,"x":280,"y":7020,"pos":325},
{"name":"              {","group":8,"x":240,"y":7040,"pos":326},
{"name":"            {","group":8,"x":200,"y":7060,"pos":327},
{"name":"          {","group":8,"x":160,"y":7080,"pos":328},
{"name":"{","group":8,"x":120,"y":7100,"pos":329},
{"name":"","group":8,"x":120,"y":7120,"pos":330},
{"name":"        else if (OUT->GZUsost.Data.uint16 & Zamer)                            ","group":1,"x":160,"y":7140,"pos":331},
{"name":"          if ( (IN->EndPeriod.Data.bit) && ((OUT->GZUsost.Data.uint16 & Kluch)==0) )","group":1,"x":200,"y":7160,"pos":332},
{"name":"            if (OUT->GZUsost.Data.uint16 & Manual)  ","group":1,"x":240,"y":7180,"pos":333},
{"name":"              if (OUT->GZUsost.Data.uint16 & Manual1Cnt){","group":1,"x":280,"y":7200,"pos":334},
{"name":"                OUT->GZUsost.Data.uint16 = 0;                            ","group":8,"x":280,"y":7220,"pos":335},
{"name":"                OUT->GZUsost.Data.uint16 |= NeedPerevod;                 ","group":8,"x":280,"y":7240,"pos":336},
{"name":"                VAR->TryCount.Data.uint8 = 0;","group":8,"x":280,"y":7260,"pos":337},
{"name":"} else {","group":2,"x":280,"y":7280,"pos":338},
{"name":"OUT->EndPeriod.Data.bit = IN->EndPeriod.Data.bit;","group":8,"x":280,"y":7300,"pos":339},
{"name":"OUT->Counting.Data.bit = 1;","group":8,"x":280,"y":7320,"pos":340},
{"name":"} else {","group":8,"x":240,"y":7340,"pos":341},
{"name":"              if (OUT->GZUsost.Data.uint16 & Manual1Cnt){","group":8,"x":200,"y":7360,"pos":342},
{"name":"            else                                      ","group":2,"x":240,"y":7380,"pos":343},
{"name":"              OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer);  ","group":8,"x":240,"y":7400,"pos":344},
{"name":"              OUT->GZUsost.Data.uint16 |= NeedPerevod;","group":8,"x":240,"y":7420,"pos":345},
{"name":"              VAR->TryCount.Data.uint8 = 0;","group":8,"x":240,"y":7440,"pos":346},
{"name":"            {","group":8,"x":200,"y":7460,"pos":347},
{"name":"            {","group":8,"x":160,"y":7480,"pos":348},
{"name":"          else","group":2,"x":200,"y":7500,"pos":349},
{"name":"            if ((IN->KodPSM.Data.uint8 & 0x0F) != OUT->TekOtvod.Data.uint8) ","group":1,"x":240,"y":7540,"pos":350},
{"name":"              OUT->GZUsost.Data.uint16 |= Kluch;","group":8,"x":200,"y":7560,"pos":351},
{"name":"            else","group":2,"x":240,"y":7580,"pos":352},
{"name":"              OUT->GZUsost.Data.uint16 &= ~Kluch;","group":8,"x":240,"y":7600,"pos":353},
{"name":"              VAR->Timer2.Data.uint16 = 0;","group":8,"x":240,"y":7620,"pos":354},
{"name":"            {","group":8,"x":200,"y":7640,"pos":355},
{"name":"          {","group":8,"x":160,"y":7660,"pos":356},
{"name":"","group":8,"x":160,"y":7680,"pos":357},
{"name":"          if (OUT->GZUsost.Data.uint16 & Kluch)","group":1,"x":200,"y":7700,"pos":358},
{"name":"            if (++VAR->Timer2.Data.uint16 > (KluchDelay*FBkernelRate))  ","group":1,"x":240,"y":7720,"pos":359},
{"name":"              if ((IN->KodPSM.Data.uint8 & 0x0F) == 1)","group":1,"x":280,"y":7760,"pos":360},
{"name":"                VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":240,"y":7780,"pos":361},
{"name":"              else if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":280,"y":7820,"pos":362},
{"name":"                VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F)-1;","group":8,"x":240,"y":7840,"pos":363},
{"name":"              OUT->GZUsost.Data.uint16 = 0;","group":8,"x":240,"y":7860,"pos":364},
{"name":"              OUT->GZUsost.Data.uint16 |= (Reverse | Manual | Manual1Cnt);","group":8,"x":240,"y":7880,"pos":365},
{"name":"              OUT->GP_OFF.Data.bit = 1;","group":8,"x":240,"y":7900,"pos":366},
{"name":"              OUT->EndPeriod.Data.bit = 1;","group":8,"x":240,"y":7920,"pos":367},
{"name":"              VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16 * FBkernelRate;","group":8,"x":240,"y":7940,"pos":368},
{"name":"            {","group":8,"x":200,"y":7960,"pos":369},
{"name":"          {","group":8,"x":160,"y":7980,"pos":370},
{"name":"          {","group":8,"x":120,"y":8000,"pos":371},
{"name":"","group":8,"x":120,"y":8020,"pos":372},
{"name":"        {","group":8,"x":80,"y":8040,"pos":373},
{"name":"","group":8,"x":80,"y":8060,"pos":374},
{"name":"      else  ","group":2,"x":120,"y":8080,"pos":375},
{"name":"        if ( (OUT->GZUsost.Data.uint16 & FullStop) == 0)  ","group":1,"x":160,"y":8100,"pos":376},
{"name":"          if (VAR->APV_TryCount.Data.uint8 >= IN->APV_TryNum.Data.uint8)  ","group":1,"x":200,"y":8120,"pos":377},
{"name":"            OUT->GZUsost.Data.uint16 |= FullStop;","group":8,"x":200,"y":8140,"pos":378},
{"name":"            OUT->TimerOut.Data.uint16 = 0;","group":8,"x":200,"y":8160,"pos":379},
{"name":"            OUT->TimerUstOut.Data.uint16 = 0;","group":8,"x":200,"y":8180,"pos":380},
{"name":"          {","group":8,"x":160,"y":8200,"pos":381},
{"name":"          else","group":2,"x":200,"y":8220,"pos":382},
{"name":"            if (VAR->Timer2.Data.uint32)","group":1,"x":240,"y":8260,"pos":383},
{"name":"              VAR->Timer2.Data.uint32--;","group":8,"x":200,"y":8280,"pos":384},
{"name":"            else","group":2,"x":240,"y":8300,"pos":385},
{"name":"              VAR->APV_TryCount.Data.uint8++;","group":8,"x":240,"y":8320,"pos":386},
{"name":"              OUT->GZUsost.Data.uint16 &= ~(Stop | PSMbraked | GPbraked | TryCnt0 | Kluch);","group":8,"x":240,"y":8340,"pos":387},
{"name":"              OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer | Kluch);  ","group":8,"x":240,"y":8360,"pos":388},
{"name":"","group":8,"x":240,"y":8380,"pos":389},
{"name":"              VAR->TryCount.Data.uint8 = 0;","group":8,"x":240,"y":8400,"pos":390},
{"name":"              VAR->Timer1.Data.uint32 = 0;","group":8,"x":240,"y":8420,"pos":391},
{"name":"            {","group":8,"x":200,"y":8440,"pos":392},
{"name":"          {","group":8,"x":160,"y":8460,"pos":393},
{"name":"          OUT->TimerOut.Data.uint16 = (FBkernelRate) ? (IN->APV_interval.Data.uint16 - (VAR->Timer2.Data.uint32/(60*FBkernelRate))) : 0;","group":8,"x":160,"y":8480,"pos":394},
{"name":"          OUT->TimerUstOut.Data.uint16 = IN->APV_interval.Data.uint16;","group":8,"x":160,"y":8500,"pos":395},
{"name":"        {","group":8,"x":120,"y":8520,"pos":396},
{"name":"","group":8,"x":120,"y":8540,"pos":397},
{"name":"        if ((IN->KodPSM.Data.uint8 & 0x0F) != OUT->TekOtvod.Data.uint8) ","group":1,"x":160,"y":8560,"pos":398},
{"name":"          OUT->TekOtvod.Data.uint8 = VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F);","group":8,"x":160,"y":8580,"pos":399},
{"name":"          OUT->GZUsost.Data.uint16 |= Kluch;","group":8,"x":160,"y":8600,"pos":400},
{"name":"          VAR->Timer1.Data.uint32 = 0;","group":8,"x":160,"y":8620,"pos":401},
{"name":"        {","group":8,"x":120,"y":8640,"pos":402},
{"name":"","group":8,"x":120,"y":8660,"pos":403},
{"name":"        if (OUT->GZUsost.Data.uint16 & Kluch)","group":1,"x":160,"y":8680,"pos":404},
{"name":"          if (++VAR->Timer1.Data.uint32 > (KluchDelay*FBkernelRate))  ","group":1,"x":200,"y":8700,"pos":405},
{"name":"            if ((IN->KodPSM.Data.uint8 & 0x0F) == 1)","group":1,"x":240,"y":8740,"pos":406},
{"name":"              VAR->KodPSMOld.Data.uint8 = IN->GZU_OtvNum.Data.uint8;","group":8,"x":200,"y":8760,"pos":407},
{"name":"            else if ((IN->KodPSM.Data.uint8 & 0x0F) > 1)","group":1,"x":240,"y":8800,"pos":408},
{"name":"              VAR->KodPSMOld.Data.uint8 = (IN->KodPSM.Data.uint8 & 0x0F)-1;","group":8,"x":200,"y":8820,"pos":409},
{"name":"","group":8,"x":200,"y":8840,"pos":410},
{"name":"            OUT->GZUsost.Data.uint16 &= ~(Stop | FullStop | TryCnt0 | GPbraked | PSMbraked | Manual);  ","group":8,"x":200,"y":8860,"pos":411},
{"name":"            OUT->GZUsost.Data.uint16 &= ~(Stab | Forward | Reverse | Zamer | Kluch);  ","group":8,"x":200,"y":8880,"pos":412},
{"name":"            OUT->GZUsost.Data.uint16 |= (Reverse | Manual| Manual1Cnt);","group":8,"x":200,"y":8900,"pos":413},
{"name":"            OUT->GP_OFF.Data.bit = 1;","group":8,"x":200,"y":8920,"pos":414},
{"name":"            VAR->Timer1.Data.uint32 = IN->ReverseTime.Data.uint16 * FBkernelRate;","group":8,"x":200,"y":8940,"pos":415},
{"name":"          {","group":8,"x":160,"y":8960,"pos":416},
{"name":"        {","group":8,"x":120,"y":8980,"pos":417},
{"name":"      {","group":8,"x":80,"y":9000,"pos":418},
{"name":"","group":8,"x":80,"y":9020,"pos":419},
{"name":"      if ( (OUT->GZUsost.Data.uint16 & Stop) && ((OUT->GZUsost.Data.uint16 & Kluch) == 0) )  ","group":1,"x":120,"y":9060,"pos":420},
{"name":"        OUT->TekOtvod.Data.uint8 = IN->KodPSM.Data.uint8 & 0x0F;","group":8,"x":80,"y":9080,"pos":421},
{"name":"        {","group":8,"x":40,"y":9100,"pos":422},
{"name":"          {","group":8,"x":0,"y":9120,"pos":423},
{"name":"","group":8,"x":0,"y":9140,"pos":424},
{"name":"  else  ","group":2,"x":40,"y":9160,"pos":425},
{"name":"    OUT->GZUsost.Data.uint16 &= ~Enabled;","group":8,"x":40,"y":9180,"pos":426},
{"name":"    OUT->GZUsost.Data.uint16 = 0;","group":8,"x":40,"y":9200,"pos":427},
{"name":"    VAR->Timer1.Data.uint32 = VAR->Timer2.Data.uint32 = 0;","group":8,"x":40,"y":9220,"pos":428},
{"name":"    VAR->APV_TryCount.Data.uint8 = 0;","group":8,"x":40,"y":9240,"pos":429},
{"name":"    OUT->EndPeriod.Data.bit = 1;","group":8,"x":40,"y":9260,"pos":430},
{"name":"  {","group":8,"x":0,"y":9280,"pos":431},
{"name":"","group":8,"x":0,"y":9300,"pos":432},
{"name":"  if (IN->GP_enabled.Data.bit)","group":1,"x":40,"y":9340,"pos":433},
{"name":"    OUT->GZUsost.Data.uint16 |= GP_En;","group":8,"x":0,"y":9360,"pos":434},
{"name":"  else","group":2,"x":40,"y":9400,"pos":435},
{"name":"    OUT->GZUsost.Data.uint16 &= ~GP_En;","group":8,"x":0,"y":9420,"pos":436},
{"name":"if (!KernelInfo.EventFlags.Bit.CfgFirstSec){","group":1,"x":40,"y":9440,"pos":437},
{"name":"OUT->ManualOtvNum.Data.uint8 = (OUT->GZUsost.Data.uint16 & Manual) ? IN->ManualOtvNum.Data.uint8 : 0;","group":8,"x":40,"y":9460,"pos":438},
{"name":"if (!KernelInfo.EventFlags.Bit.CfgFirstSec){","group":8,"x":0,"y":9480,"pos":439},
{"name":"  ","group":8,"x":0,"y":9500,"pos":440},
{"name":"  OUT->Counting.Data.bit = ( (OUT->GZUsost.Data.uint16 & Zamer) && ((OUT->GZUsost.Data.uint16 & Kluch)==0) ) ? 1 : 0;","group":8,"x":0,"y":9520,"pos":441},
{"name":"{","group":8,"x":-40,"y":9540,"pos":442},
{"name":"","group":8,"x":-40,"y":9560,"pos":443},
{"name":"        {","group":8,"x":-40,"y":9580,"pos":444},
{"name":"        {","group":8,"x":-40,"y":9600,"pos":445},
{"name":"      {","group":8,"x":-40,"y":9620,"pos":446},
{"name":"      if ((IN->GP_enabled.Data.bit) && !(OUT->GZUsost.Data.uint16 & (Forward | Reverse | GPbraked)) && (VAR->TempExtra.Data.uint8 != 0)) { ","group":8,"x":-40,"y":9640,"pos":447},
{"name":"  {","group":8,"x":-40,"y":9660,"pos":448},
{"name":"Enable","group":5,"x":40,"y":609.4117647058823,"pos":449},
{"name":"Hold","group":5,"x":40,"y":1198.8235294117646,"pos":450},
{"name":"GP_enabled","group":5,"x":40,"y":1788.2352941176468,"pos":451},
{"name":"KodPSM","group":5,"x":40,"y":2377.6470588235293,"pos":452},
{"name":"OtvMask","group":5,"x":40,"y":2967.0588235294117,"pos":453},
{"name":"GZU_OtvNum","group":5,"x":40,"y":3556.470588235294,"pos":454},
{"name":"ForwardTime","group":5,"x":40,"y":4145.882352941177,"pos":455},
{"name":"ReverseTime","group":5,"x":40,"y":4735.294117647059,"pos":456},
{"name":"StabTime","group":5,"x":40,"y":5324.7058823529405,"pos":457},
{"name":"TryNum","group":5,"x":40,"y":5914.1176470588225,"pos":458},
{"name":"APV_interval","group":5,"x":40,"y":6503.5294117647045,"pos":459},
{"name":"APV_TryNum","group":5,"x":40,"y":7092.9411764705865,"pos":460},
{"name":"EndPeriod","group":5,"x":40,"y":7682.352941176468,"pos":461},
{"name":"CmdSwitchOtv","group":5,"x":40,"y":8271.764705882351,"pos":462},
{"name":"CmdStopReset","group":5,"x":40,"y":8861.176470588234,"pos":463},
{"name":"ManualOtvNum","group":5,"x":40,"y":9450.588235294117,"pos":464},
{"name":"ExtraOtvNum","group":5,"x":40,"y":10040.0,"pos":465},
{"name":"close","group":8,"x":0,"y":9680}],
"links":[{"source":448,"target":19,"value":1},
{"source":449,"target":20,"value":1},
{"source":450,"target":24,"value":1},
{"source":450,"target":83,"value":1},
{"source":450,"target":139,"value":1},
{"source":450,"target":191,"value":1},
{"source":450,"target":433,"value":1},
{"source":450,"target":447,"value":1},
{"source":451,"target":9,"value":1},
{"source":451,"target":12,"value":1},
{"source":451,"target":13,"value":1},
{"source":451,"target":41,"value":1},
{"source":451,"target":48,"value":1},
{"source":451,"target":49,"value":1},
{"source":451,"target":50,"value":1},
{"source":451,"target":57,"value":1},
{"source":451,"target":62,"value":1},
{"source":451,"target":63,"value":1},
{"source":451,"target":64,"value":1},
{"source":451,"target":84,"value":1},
{"source":451,"target":91,"value":1},
{"source":451,"target":104,"value":1},
{"source":451,"target":105,"value":1},
{"source":451,"target":106,"value":1},
{"source":451,"target":122,"value":1},
{"source":451,"target":135,"value":1},
{"source":451,"target":145,"value":1},
{"source":451,"target":146,"value":1},
{"source":451,"target":149,"value":1},
{"source":451,"target":151,"value":1},
{"source":451,"target":152,"value":1},
{"source":451,"target":163,"value":1},
{"source":451,"target":168,"value":1},
{"source":451,"target":171,"value":1},
{"source":451,"target":172,"value":1},
{"source":451,"target":221,"value":1},
{"source":451,"target":223,"value":1},
{"source":451,"target":226,"value":1},
{"source":451,"target":231,"value":1},
{"source":451,"target":232,"value":1},
{"source":451,"target":238,"value":1},
{"source":451,"target":241,"value":1},
{"source":451,"target":244,"value":1},
{"source":451,"target":263,"value":1},
{"source":451,"target":306,"value":1},
{"source":451,"target":315,"value":1},
{"source":451,"target":317,"value":1},
{"source":451,"target":318,"value":1},
{"source":451,"target":350,"value":1},
{"source":451,"target":360,"value":1},
{"source":451,"target":362,"value":1},
{"source":451,"target":363,"value":1},
{"source":451,"target":398,"value":1},
{"source":451,"target":399,"value":1},
{"source":451,"target":406,"value":1},
{"source":451,"target":408,"value":1},
{"source":451,"target":409,"value":1},
{"source":451,"target":421,"value":1},
{"source":452,"target":163,"value":1},
{"source":452,"target":244,"value":1},
{"source":453,"target":33,"value":1},
{"source":453,"target":51,"value":1},
{"source":453,"target":65,"value":1},
{"source":453,"target":75,"value":1},
{"source":453,"target":82,"value":1},
{"source":453,"target":107,"value":1},
{"source":453,"target":135,"value":1},
{"source":453,"target":150,"value":1},
{"source":453,"target":223,"value":1},
{"source":453,"target":225,"value":1},
{"source":453,"target":316,"value":1},
{"source":453,"target":361,"value":1},
{"source":453,"target":407,"value":1},
{"source":454,"target":143,"value":1},
{"source":454,"target":144,"value":1},
{"source":454,"target":180,"value":1},
{"source":454,"target":181,"value":1},
{"source":454,"target":185,"value":1},
{"source":454,"target":186,"value":1},
{"source":454,"target":188,"value":1},
{"source":454,"target":189,"value":1},
{"source":455,"target":101,"value":1},
{"source":455,"target":157,"value":1},
{"source":455,"target":158,"value":1},
{"source":455,"target":195,"value":1},
{"source":455,"target":196,"value":1},
{"source":455,"target":201,"value":1},
{"source":455,"target":202,"value":1},
{"source":455,"target":206,"value":1},
{"source":455,"target":207,"value":1},
{"source":455,"target":209,"value":1},
{"source":455,"target":210,"value":1},
{"source":455,"target":325,"value":1},
{"source":455,"target":368,"value":1},
{"source":455,"target":415,"value":1},
{"source":456,"target":165,"value":1},
{"source":456,"target":166,"value":1},
{"source":456,"target":246,"value":1},
{"source":456,"target":265,"value":1},
{"source":456,"target":291,"value":1},
{"source":456,"target":292,"value":1},
{"source":456,"target":296,"value":1},
{"source":456,"target":297,"value":1},
{"source":456,"target":299,"value":1},
{"source":456,"target":300,"value":1},
{"source":457,"target":251,"value":1},
{"source":457,"target":255,"value":1},
{"source":457,"target":270,"value":1},
{"source":458,"target":258,"value":1},
{"source":458,"target":277,"value":1},
{"source":458,"target":284,"value":1},
{"source":458,"target":394,"value":1},
{"source":458,"target":395,"value":1},
{"source":459,"target":377,"value":1},
{"source":460,"target":332,"value":1},
{"source":460,"target":339,"value":1},
{"source":461,"target":111,"value":1},
{"source":462,"target":93,"value":1},
{"source":463,"target":32,"value":1},
{"source":463,"target":33,"value":1},
{"source":463,"target":37,"value":1},
{"source":463,"target":57,"value":1},
{"source":463,"target":68,"value":1},
{"source":463,"target":438,"value":1},
{"source":464,"target":75,"value":1},
{"source":464,"target":80,"value":1},
{"source":464,"target":82,"value":1},
{"source":1,"target":0,"value":1}
]}