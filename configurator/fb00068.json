{"nodes":[{"name":"{","group":8,"x":40,"y":40,"pos":1},
{"name":"  fb00068_IN_type *IN = (fb00068_IN_type *) FBInputs;","group":8,"x":40,"y":60,"pos":2},
{"name":"  fb00068_VAR_type *VAR = (fb00068_VAR_type *) FBVars;","group":8,"x":40,"y":80,"pos":3},
{"name":"  fb00068_OUT_type *OUT = (fb00068_OUT_type *) FBOutputs;","group":8,"x":40,"y":100,"pos":4},
{"name":"","group":8,"x":40,"y":120,"pos":5},
{"name":"  vu8 i;","group":8,"x":40,"y":140,"pos":6},
{"name":"  vu32 DaySec;       ","group":8,"x":40,"y":160,"pos":7},
{"name":"  vu16 input_mask,MinuteOnDay;  ","group":8,"x":40,"y":180,"pos":8},
{"name":"  vu8 time_fb68=0;  ","group":8,"x":40,"y":200,"pos":9},
{"name":"  vu16 FiltPressure; ","group":8,"x":40,"y":220,"pos":10},
{"name":"","group":8,"x":40,"y":240,"pos":11},
{"name":"  IN->KnapCalc.Data.uint8 = (IN->KnapCalc.Data.uint8>0&&(IN->KnapCalc.Data.uint8<40)) ? IN->KnapCalc.Data.uint8 : 10;","group":8,"x":40,"y":260,"pos":12},
{"name":"  IN->KnapIgnor.Data.uint8 = (IN->KnapIgnor.Data.uint8<2) ? 2 : IN->KnapIgnor.Data.uint8;","group":8,"x":40,"y":280,"pos":13},
{"name":"  for(i=0;i<(TIME_PERIOD_NUMBER*2);i++)","group":3,"x":80,"y":300,"pos":14},
{"name":"    if (IN->Time[i].Data.uint16 >= 1440) {IN->Time[i].Data.uint16=0xFFFF;}","group":1,"x":120,"y":320,"pos":15},
{"name":"  }","group":8,"x":80,"y":340,"pos":16},
{"name":"","group":8,"x":80,"y":360,"pos":17},
{"name":"#ifdef MEGA12","group":8,"x":80,"y":380,"pos":18},
{"name":"  if (KernelInfo.EventFlags.Bit.CfgFirstExec) ","group":1,"x":120,"y":420,"pos":19},
{"name":"  if (EventFlags.Bit.CfgFirstExec) ","group":8,"x":80,"y":440,"pos":20},
{"name":"#endif","group":8,"x":80,"y":460,"pos":21},
{"name":"  {","group":8,"x":80,"y":480,"pos":22},
{"name":"    VAR->ActuatorRestartCnt.Data.uint32 =(IN->ActuatorRestart.Data.uint32>10)?10:IN->ActuatorRestart.Data.uint32;","group":8,"x":80,"y":500,"pos":23},
{"name":"    OUT->State.Data.uint32 = 0;","group":8,"x":80,"y":520,"pos":24},
{"name":"    OUT->State.Data.uint32 |=BIT(BEFORSTART);","group":8,"x":80,"y":540,"pos":25},
{"name":"    OUT->TimerBeforeStart.Data.uint8 = (IN->TimeBeforeStart.Data.uint8<20) ? 20 : IN->TimeBeforeStart.Data.uint8;","group":8,"x":80,"y":560,"pos":26},
{"name":"    OUT->CntRestartSP.Data.uint16 = IN->SP_Num.Data.uint16;","group":8,"x":80,"y":580,"pos":27},
{"name":"    OUT->CntRestartAPV.Data.uint16 = IN->APV_Num.Data.uint16;","group":8,"x":80,"y":600,"pos":28},
{"name":"    OUT->CntIgnor.Data.uint16 = IN->KnapIgnor.Data.uint16;","group":8,"x":80,"y":620,"pos":29},
{"name":"    OUT->KNAPTimer.Data.uint16 = 0;","group":8,"x":80,"y":640,"pos":30},
{"name":"","group":8,"x":80,"y":660,"pos":31},
{"name":"    if (OUT->WattPreviuDay.Data.uint32 == 0xFFFFFFFF){OUT->WattPreviuDay.Data.float32 =0;}          ","group":1,"x":120,"y":680,"pos":32},
{"name":"    if (OUT->WattCurrentDay.Data.uint32 == 0xFFFFFFFF){OUT->WattCurrentDay.Data.float32=0;}","group":1,"x":120,"y":700,"pos":33},
{"name":"    if (OUT->WattCurrentDay.Data.uint32 == 0xFFFFFFFF){OUT->WattCurrentDay.Data.float32=0;}","group":8,"x":80,"y":720,"pos":34},
{"name":"","group":8,"x":80,"y":740,"pos":35},
{"name":"  {","group":8,"x":40,"y":760,"pos":36},
{"name":"","group":8,"x":40,"y":780,"pos":37},
{"name":"  input_mask = IN->DigitInput.Data.uint16 ^ IN->DigitInversion.Data.uint16;","group":8,"x":40,"y":800,"pos":38},
{"name":"#ifdef MEGA12","group":8,"x":40,"y":820,"pos":39},
{"name":"  if((VAR->KernelClk.Data.uint32%KernelInfo.FBkernelRate)==0){","group":1,"x":80,"y":840,"pos":40},
{"name":"    FiltPressure = FILTPRESSURE*KernelInfo.FBkernelRate;","group":8,"x":80,"y":860,"pos":41},
{"name":"#else","group":8,"x":80,"y":880,"pos":42},
{"name":"  if((VAR->KernelClk.Data.uint32%FBkernelRate)==0){","group":1,"x":120,"y":900,"pos":43},
{"name":"    FiltPressure = FILTPRESSURE*FBkernelRate;","group":8,"x":120,"y":920,"pos":44},
{"name":"#endif","group":8,"x":120,"y":940,"pos":45},
{"name":"  ","group":8,"x":120,"y":960,"pos":46},
{"name":"    VAR->SecTimer.Data.uint32++;","group":8,"x":120,"y":980,"pos":47},
{"name":"    time_fb68|=BIT(SEC);","group":8,"x":120,"y":1000,"pos":48},
{"name":"  }else{","group":2,"x":120,"y":1020,"pos":49},
{"name":"    time_fb68&=~BIT(SEC);","group":8,"x":120,"y":1040,"pos":50},
{"name":"  }else{","group":8,"x":80,"y":1060,"pos":51},
{"name":"  if ((time_fb68&BIT(SEC))&&((VAR->SecTimer.Data.uint32%60)==0)){","group":1,"x":120,"y":1080,"pos":52},
{"name":"    VAR->MinTimer.Data.uint32++;","group":8,"x":120,"y":1100,"pos":53},
{"name":"    time_fb68|=BIT(MIN);","group":8,"x":120,"y":1120,"pos":54},
{"name":"  }else{","group":2,"x":120,"y":1140,"pos":55},
{"name":"    time_fb68&=~BIT(MIN);","group":8,"x":120,"y":1160,"pos":56},
{"name":"  }else{","group":8,"x":80,"y":1180,"pos":57},
{"name":"#ifdef MEGA12","group":8,"x":80,"y":1200,"pos":58},
{"name":" DaySec = (FB32blok.vars.Cnt1Chas * 3600) + (FB32blok.vars.Cnt1Min * 60) + FB32blok.vars.Cnt1Sec;","group":8,"x":80,"y":1220,"pos":59},
{"name":"  MinuteOnDay = FB32blok.vars.Cnt1Chas * 60 + FB32blok.vars.Cnt1Min;","group":8,"x":80,"y":1240,"pos":60},
{"name":"#else ","group":8,"x":80,"y":1260,"pos":61},
{"name":"  DaySec = (SystemTime.hour*3600) + (SystemTime.min*60) + SystemTime.sec;","group":8,"x":80,"y":1280,"pos":62},
{"name":"  MinuteOnDay = SystemTime.hour * 60 + SystemTime.min;","group":8,"x":80,"y":1300,"pos":63},
{"name":"#endif","group":8,"x":80,"y":1320,"pos":64},
{"name":"","group":8,"x":80,"y":1340,"pos":65},
{"name":"  if (time_fb68&BIT(SEC)){","group":1,"x":120,"y":1360,"pos":66},
{"name":"    if (input_mask & BIT(ACTUATOR)) {","group":1,"x":160,"y":1380,"pos":67},
{"name":"      if (OUT->KNAPTimer.Data.uint16<0xFFFE) OUT->KNAPTimer.Data.uint16++;","group":1,"x":200,"y":1420,"pos":68},
{"name":"      if (OUT->KNAPTimer.Data.uint16 > IN->KNAPTime.Data.uint16)","group":8,"x":160,"y":1440,"pos":69},
{"name":"        OUT->State.Data.uint32 |= BIT(KNAP_LOSS);","group":8,"x":160,"y":1460,"pos":70},
{"name":"      else ","group":2,"x":200,"y":1500,"pos":71},
{"name":"        OUT->State.Data.uint32 &= ~BIT(KNAP_LOSS);","group":8,"x":160,"y":1520,"pos":72},
{"name":"    }else {","group":2,"x":160,"y":1540,"pos":73},
{"name":"      OUT->State.Data.uint32 &= ~BIT(KNAP_LOSS);","group":8,"x":160,"y":1560,"pos":74},
{"name":"    }else {","group":8,"x":120,"y":1580,"pos":75},
{"name":"    if (OUT->State.Data.uint32&BIT(START_TIME)){","group":1,"x":160,"y":1600,"pos":76},
{"name":"      if(OUT->DisregardTimer.Data.uint16!=0){","group":1,"x":200,"y":1620,"pos":77},
{"name":"        OUT->DisregardTimer.Data.uint16--;","group":8,"x":200,"y":1640,"pos":78},
{"name":"      }else{","group":2,"x":200,"y":1660,"pos":79},
{"name":"        OUT->State.Data.uint32&=~BIT(START_TIME);","group":8,"x":200,"y":1680,"pos":80},
{"name":"      }else{","group":8,"x":160,"y":1700,"pos":81},
{"name":"      if(OUT->DisregardTimer.Data.uint16!=0){","group":8,"x":120,"y":1720,"pos":82},
{"name":"    if (OUT->State.Data.uint32&BIT(START_TIME)){","group":8,"x":80,"y":1740,"pos":83},
{"name":"  if(IN->KnapOK.Data.bit){","group":1,"x":120,"y":1760,"pos":84},
{"name":"    VAR->KnapCalc.Data.uint32++;","group":8,"x":120,"y":1780,"pos":85},
{"name":"    OUT->CntIgnor.Data.uint16 = (OUT->CntIgnor.Data.uint16>0) ? (--OUT->CntIgnor.Data.uint16) : OUT->CntIgnor.Data.uint16;","group":8,"x":120,"y":1800,"pos":86},
{"name":"    OUT->Knap.Data.uint8 = IN->Knap.Data.uint8;","group":8,"x":120,"y":1820,"pos":87},
{"name":"    if (VAR->KnapCalc.Data.uint32 <= IN->KnapCalc.Data.uint8){","group":1,"x":160,"y":1840,"pos":88},
{"name":"      VAR->Knap_Summ.Data.uint16 = VAR->Knap_Summ.Data.uint16+IN->Knap.Data.uint8;","group":8,"x":160,"y":1860,"pos":89},
{"name":"      OUT->KnapAverage.Data.uint8 = VAR->Knap_Summ.Data.uint16/(VAR->KnapCalc.Data.uint32);","group":8,"x":160,"y":1880,"pos":90},
{"name":"    }else{","group":2,"x":160,"y":1900,"pos":91},
{"name":"      VAR->Knap_Summ.Data.uint16 = VAR->Knap_Summ.Data.uint16-OUT->KnapAverage.Data.uint8+OUT->Knap.Data.uint8;","group":8,"x":160,"y":1920,"pos":92},
{"name":"      OUT->KnapAverage.Data.uint8 = VAR->Knap_Summ.Data.uint16/(IN->KnapCalc.Data.uint8);","group":8,"x":160,"y":1940,"pos":93},
{"name":"    }else{","group":8,"x":120,"y":1960,"pos":94},
{"name":"    if (VAR->KnapCalc.Data.uint32 <= IN->KnapCalc.Data.uint8){","group":8,"x":80,"y":1980,"pos":95},
{"name":"","group":8,"x":80,"y":2000,"pos":96},
{"name":"  if(time_fb68&BIT(MIN)){","group":1,"x":120,"y":2020,"pos":97},
{"name":"    OUT->LastSostTimer.Data.uint32++;","group":8,"x":120,"y":2040,"pos":98},
{"name":"    if (input_mask & BIT(ACTUATOR)){","group":1,"x":160,"y":2060,"pos":99},
{"name":"      OUT->FullOperationTimer.Data.uint32++;","group":8,"x":160,"y":2080,"pos":100},
{"name":"      OUT->DayUpTimer.Data.uint16++;","group":8,"x":160,"y":2100,"pos":101},
{"name":"    }else{","group":2,"x":160,"y":2120,"pos":102},
{"name":"      OUT->FullDownTimer.Data.uint32++;","group":8,"x":160,"y":2140,"pos":103},
{"name":"      OUT->State.Data.uint32 |=BIT(BEFORSTART);","group":8,"x":160,"y":2160,"pos":104},
{"name":"      OUT->TimerBeforeStart.Data.uint8 = (IN->TimeBeforeStart.Data.uint8<20) ? 20 : IN->TimeBeforeStart.Data.uint8;","group":8,"x":160,"y":2180,"pos":105},
{"name":"    }else{","group":8,"x":120,"y":2200,"pos":106},
{"name":"    if (input_mask & BIT(ACTUATOR)){","group":8,"x":80,"y":2220,"pos":107},
{"name":"  if (DaySec==0){","group":1,"x":120,"y":2240,"pos":108},
{"name":"    if(OUT->DayUpTimer.Data.uint16!=0) OUT->PrevDayUpTimer.Data.uint16=OUT->DayUpTimer.Data.uint16;","group":1,"x":160,"y":2280,"pos":109},
{"name":"    OUT->DayUpTimer.Data.uint16=0;","group":8,"x":120,"y":2300,"pos":110},
{"name":"  if (DaySec==0){","group":8,"x":80,"y":2320,"pos":111},
{"name":"  if ((VAR->Input_mask.Data.uint16 & BIT(ACTUATOR))!=(input_mask & BIT(ACTUATOR))){","group":1,"x":120,"y":2340,"pos":112},
{"name":"    VAR->KnapCalc.Data.uint32 = 0;","group":8,"x":120,"y":2360,"pos":113},
{"name":"    OUT->LastSostTimer.Data.uint32=0;","group":8,"x":120,"y":2380,"pos":114},
{"name":"  if ((VAR->Input_mask.Data.uint16 & BIT(ACTUATOR))!=(input_mask & BIT(ACTUATOR))){","group":8,"x":80,"y":2400,"pos":115},
{"name":"","group":8,"x":80,"y":2420,"pos":116},
{"name":"","group":8,"x":80,"y":2440,"pos":117},
{"name":"  if(IN->KnapOK.Data.bit){","group":1,"x":120,"y":2460,"pos":118},
{"name":"    OUT->KNAPTimer.Data.uint16 = 0;","group":8,"x":120,"y":2480,"pos":119},
{"name":"    if (OUT->Knap.Data.uint8 < IN->KnapPorog.Data.uint8){","group":1,"x":160,"y":2500,"pos":120},
{"name":"      if(VAR->KnapCalc.Data.uint32 > IN->KnapIgnor.Data.uint8){","group":1,"x":200,"y":2520,"pos":121},
{"name":"        VAR->KnapFail.Data.uint8++;","group":8,"x":200,"y":2540,"pos":122},
{"name":"        if (VAR->KnapFail.Data.uint8 > IN->KnapCalc.Data.uint8){","group":1,"x":240,"y":2560,"pos":123},
{"name":"          OUT->State.Data.uint32 |=BIT(SP);","group":8,"x":240,"y":2580,"pos":124},
{"name":"        if (VAR->KnapFail.Data.uint8 > IN->KnapCalc.Data.uint8){","group":8,"x":200,"y":2600,"pos":125},
{"name":"      if(VAR->KnapCalc.Data.uint32 > IN->KnapIgnor.Data.uint8){","group":8,"x":160,"y":2620,"pos":126},
{"name":"    }else{","group":2,"x":160,"y":2640,"pos":127},
{"name":"      OUT->CntRestartSP.Data.uint16 = IN->SP_Num.Data.uint16;","group":8,"x":160,"y":2660,"pos":128},
{"name":"      OUT->State.Data.uint32 &=~BIT(SP);","group":8,"x":160,"y":2680,"pos":129},
{"name":"      VAR->KnapFail.Data.uint8=0;      ","group":8,"x":160,"y":2700,"pos":130},
{"name":"    }else{","group":8,"x":120,"y":2720,"pos":131},
{"name":"    if (OUT->Knap.Data.uint8 < IN->KnapPorog.Data.uint8){","group":8,"x":80,"y":2740,"pos":132},
{"name":"","group":8,"x":80,"y":2760,"pos":133},
{"name":"              ","group":8,"x":80,"y":2780,"pos":134},
{"name":"  if(IN->InputPressure.Data.uint16 > IN->MaxPressure.Data.uint16){","group":1,"x":120,"y":2800,"pos":135},
{"name":"    VAR->PRESSURE_FILT.Data.uint16++;","group":8,"x":120,"y":2820,"pos":136},
{"name":"    if(VAR->PRESSURE_FILT.Data.uint16>FiltPressure) {","group":1,"x":160,"y":2840,"pos":137},
{"name":"      OUT->State.Data.uint32|=BIT(PRESSURE_BIG);","group":8,"x":160,"y":2860,"pos":138},
{"name":"      VAR->PRESSURE_FILT.Data.uint16=FiltPressure+1;","group":8,"x":160,"y":2880,"pos":139},
{"name":"    if(VAR->PRESSURE_FILT.Data.uint16>FiltPressure) {","group":8,"x":120,"y":2900,"pos":140},
{"name":"    OUT->State.Data.uint32&=~BIT(PRESSURE_LOW);","group":8,"x":120,"y":2920,"pos":141},
{"name":"  }else if(IN->InputPressure.Data.uint16 < IN->MinPressure.Data.uint16){","group":1,"x":120,"y":2940,"pos":142},
{"name":"    VAR->PRESSURE_FILT.Data.uint16++;","group":8,"x":120,"y":2960,"pos":143},
{"name":"    if(VAR->PRESSURE_FILT.Data.uint16>FiltPressure){","group":1,"x":160,"y":2980,"pos":144},
{"name":"      OUT->State.Data.uint32|=BIT(PRESSURE_LOW);","group":8,"x":160,"y":3000,"pos":145},
{"name":"      VAR->PRESSURE_FILT.Data.uint16=FiltPressure+1;","group":8,"x":160,"y":3020,"pos":146},
{"name":"    if(VAR->PRESSURE_FILT.Data.uint16>FiltPressure){","group":8,"x":120,"y":3040,"pos":147},
{"name":"    OUT->State.Data.uint32&=~BIT(PRESSURE_BIG);  ","group":8,"x":120,"y":3060,"pos":148},
{"name":"  }else{","group":2,"x":120,"y":3080,"pos":149},
{"name":"    OUT->State.Data.uint32&=~BIT(PRESSURE_BIG);  ","group":8,"x":120,"y":3100,"pos":150},
{"name":"    OUT->State.Data.uint32&=~BIT(PRESSURE_LOW);  ","group":8,"x":120,"y":3120,"pos":151},
{"name":"    VAR->PRESSURE_FILT.Data.uint16 = 0;","group":8,"x":120,"y":3140,"pos":152},
{"name":"  }else{","group":8,"x":80,"y":3160,"pos":153},
{"name":"","group":8,"x":80,"y":3180,"pos":154},
{"name":"","group":8,"x":80,"y":3200,"pos":155},
{"name":"","group":8,"x":80,"y":3220,"pos":156},
{"name":"  ","group":8,"x":80,"y":3240,"pos":157},
{"name":"  ","group":8,"x":80,"y":3260,"pos":158},
{"name":"  if (!(IN->Mode.Data.uint8 & BIT(ENABLE_SP))){","group":1,"x":120,"y":3280,"pos":159},
{"name":"    OUT->SPTimer.Data.uint16=0;","group":8,"x":120,"y":3300,"pos":160},
{"name":"    OUT->CntRestartSP.Data.uint16 = IN->SP_Num.Data.uint16;","group":8,"x":120,"y":3320,"pos":161},
{"name":"    OUT->CntIgnor.Data.uint16 = IN->KnapIgnor.Data.uint16;  ","group":8,"x":120,"y":3340,"pos":162},
{"name":"    OUT->State.Data.uint32 &=~BIT(SP_MODE);","group":8,"x":120,"y":3360,"pos":163},
{"name":"  }else if (input_mask&BIT(ACTUATOR)){","group":1,"x":120,"y":3380,"pos":164},
{"name":"    OUT->State.Data.uint32 |=BIT(SP_MODE);","group":8,"x":120,"y":3400,"pos":165},
{"name":"    if (!(OUT->State.Data.uint32&BIT(START_TIME))){","group":1,"x":160,"y":3420,"pos":166},
{"name":"      if(OUT->State.Data.uint32 & BIT(SP)){OUT->SPTimer.Data.uint16=IN->SPTime.Data.uint16;}","group":1,"x":200,"y":3440,"pos":167},
{"name":"    }","group":8,"x":160,"y":3460,"pos":168},
{"name":"  }else{","group":2,"x":160,"y":3480,"pos":169},
{"name":"    OUT->State.Data.uint32 |=BIT(SP_MODE);","group":8,"x":160,"y":3500,"pos":170},
{"name":"    OUT->CntIgnor.Data.uint16 = IN->KnapIgnor.Data.uint16;  ","group":8,"x":160,"y":3520,"pos":171},
{"name":"    if ((time_fb68&BIT(MIN))&&(OUT->SPTimer.Data.uint16!=0)){","group":1,"x":200,"y":3540,"pos":172},
{"name":"      if (OUT->SPTimer.Data.uint16>1){","group":1,"x":240,"y":3560,"pos":173},
{"name":"        OUT->SPTimer.Data.uint16--;","group":8,"x":240,"y":3580,"pos":174},
{"name":"      }else{","group":2,"x":240,"y":3600,"pos":175},
{"name":"        if (OUT->CntRestartSP.Data.uint16 > 0){","group":1,"x":280,"y":3620,"pos":176},
{"name":"          OUT->CntRestartSP.Data.uint16--;","group":8,"x":280,"y":3640,"pos":177},
{"name":"          OUT->State.Data.uint32 &=~BIT(SP);","group":8,"x":280,"y":3660,"pos":178},
{"name":"          OUT->SPTimer.Data.uint16=0;","group":8,"x":280,"y":3680,"pos":179},
{"name":"        }else{","group":2,"x":280,"y":3700,"pos":180},
{"name":"          OUT->SPTimer.Data.uint16=1;","group":8,"x":280,"y":3720,"pos":181},
{"name":"        }else{","group":8,"x":240,"y":3740,"pos":182},
{"name":"        if (OUT->CntRestartSP.Data.uint16 > 0){","group":8,"x":200,"y":3760,"pos":183},
{"name":"      }else{","group":8,"x":160,"y":3780,"pos":184},
{"name":"      if (OUT->SPTimer.Data.uint16>1){","group":8,"x":120,"y":3800,"pos":185},
{"name":"","group":8,"x":120,"y":3820,"pos":186},
{"name":"  if (!(IN->Mode.Data.uint8&BIT(ENABLE_PRESSURE))){","group":1,"x":160,"y":3840,"pos":187},
{"name":"    OUT->APVTimer.Data.uint16=0;","group":8,"x":160,"y":3860,"pos":188},
{"name":"    OUT->CntRestartAPV.Data.uint16 = IN->APV_Num.Data.uint16;","group":8,"x":160,"y":3880,"pos":189},
{"name":"    OUT->State.Data.uint32 &=~BIT(PRESSURE_MODE);","group":8,"x":160,"y":3900,"pos":190},
{"name":"  }else if (input_mask&BIT(ACTUATOR)){","group":1,"x":160,"y":3920,"pos":191},
{"name":"    OUT->State.Data.uint32 |=BIT(PRESSURE_MODE);","group":8,"x":160,"y":3940,"pos":192},
{"name":"    if (!(OUT->State.Data.uint32&BIT(START_TIME))){","group":1,"x":200,"y":3960,"pos":193},
{"name":"      if(OUT->State.Data.uint32 & BIT(PRESSURE_BIG)){OUT->APVTimer.Data.uint16=IN->DownTimeBigPressure.Data.uint16;}","group":1,"x":240,"y":3980,"pos":194},
{"name":"      if(OUT->State.Data.uint32 & BIT(PRESSURE_LOW)){OUT->APVTimer.Data.uint16=IN->DownTimeLowPressure.Data.uint16;}","group":1,"x":240,"y":4000,"pos":195},
{"name":"      if(OUT->State.Data.uint32 & BIT(PRESSURE_LOW)){OUT->APVTimer.Data.uint16=IN->DownTimeLowPressure.Data.uint16;}","group":8,"x":200,"y":4020,"pos":196},
{"name":"      if (IN->Protection.Data.bit){","group":1,"x":240,"y":4040,"pos":197},
{"name":"        OUT->APVTimer.Data.uint16=IN->DownTimeBigPressure.Data.uint16;","group":8,"x":240,"y":4060,"pos":198},
{"name":"        OUT->State.Data.uint32 |=BIT(EXTERNAL_PROTECT);","group":8,"x":240,"y":4080,"pos":199},
{"name":"      if (IN->Protection.Data.bit){","group":8,"x":200,"y":4100,"pos":200},
{"name":"    if (!(OUT->State.Data.uint32&BIT(START_TIME))){","group":8,"x":160,"y":4120,"pos":201},
{"name":"  }else{","group":2,"x":160,"y":4140,"pos":202},
{"name":"    OUT->State.Data.uint32 |=BIT(PRESSURE_MODE);","group":8,"x":160,"y":4160,"pos":203},
{"name":"    if ((time_fb68&BIT(MIN))&&(OUT->APVTimer.Data.uint16!=0)){","group":1,"x":200,"y":4180,"pos":204},
{"name":"      if (OUT->APVTimer.Data.uint16>1){","group":1,"x":240,"y":4200,"pos":205},
{"name":"        OUT->APVTimer.Data.uint16--;","group":8,"x":240,"y":4220,"pos":206},
{"name":"      }else{","group":2,"x":240,"y":4240,"pos":207},
{"name":"        if (OUT->CntRestartAPV.Data.uint16 > 0){","group":1,"x":280,"y":4260,"pos":208},
{"name":"          OUT->CntRestartAPV.Data.uint16--;","group":8,"x":280,"y":4280,"pos":209},
{"name":"          OUT->APVTimer.Data.uint16=0;","group":8,"x":280,"y":4300,"pos":210},
{"name":"          OUT->State.Data.uint32&=~BIT(PRESSURE_BIG);  ","group":8,"x":280,"y":4320,"pos":211},
{"name":"          OUT->State.Data.uint32&=~BIT(PRESSURE_LOW);  ","group":8,"x":280,"y":4340,"pos":212},
{"name":"        }else{","group":2,"x":280,"y":4360,"pos":213},
{"name":"          OUT->APVTimer.Data.uint16=1;","group":8,"x":280,"y":4380,"pos":214},
{"name":"        }else{","group":8,"x":240,"y":4400,"pos":215},
{"name":"        if (OUT->CntRestartAPV.Data.uint16 > 0){","group":8,"x":200,"y":4420,"pos":216},
{"name":"      }else{","group":8,"x":160,"y":4440,"pos":217},
{"name":"      if (OUT->APVTimer.Data.uint16>1){","group":8,"x":120,"y":4460,"pos":218},
{"name":"","group":8,"x":120,"y":4480,"pos":219},
{"name":"  if(input_mask&BIT(ARM_BUTTON)){ ","group":1,"x":160,"y":4500,"pos":220},
{"name":"    OUT->State.Data.uint32&= ~BIT(PUSK_ACTUATOR);","group":8,"x":160,"y":4520,"pos":221},
{"name":"  }else if(input_mask&BIT(AVTO_BUTTON)){","group":1,"x":160,"y":4540,"pos":222},
{"name":"    if(IN->Mode.Data.uint8 & OPERATOR_MODE){","group":1,"x":200,"y":4560,"pos":223},
{"name":"      if (!(OUT->State.Data.uint32 & BIT(OPERATOR))){","group":1,"x":240,"y":4580,"pos":224},
{"name":"#ifdef MEGA12","group":8,"x":240,"y":4600,"pos":225},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":240,"y":4620,"pos":226},
{"name":"#else ","group":8,"x":240,"y":4640,"pos":227},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":240,"y":4660,"pos":228},
{"name":"#endif","group":8,"x":240,"y":4680,"pos":229},
{"name":"        OUT->State.Data.uint32 |=BIT(OPERATOR);","group":8,"x":240,"y":4700,"pos":230},
{"name":"        OUT->State.Data.uint32 &=~BIT(TIMER);","group":8,"x":240,"y":4720,"pos":231},
{"name":"        OUT->State.Data.uint32 &=~BIT(TIME);","group":8,"x":240,"y":4740,"pos":232},
{"name":"      if (!(OUT->State.Data.uint32 & BIT(OPERATOR))){","group":8,"x":200,"y":4760,"pos":233},
{"name":"      if(IN->Mode.Data.uint8&BIT(PUSK)){","group":1,"x":240,"y":4780,"pos":234},
{"name":"        OUT->State.Data.uint32|=BIT(PUSK_ACTUATOR);","group":8,"x":240,"y":4800,"pos":235},
{"name":"      }else{","group":2,"x":240,"y":4820,"pos":236},
{"name":"        OUT->TimerBeforeStart.Data.uint8 = IN->TimeBeforeStart.Data.uint8;","group":8,"x":240,"y":4840,"pos":237},
{"name":"        OUT->State.Data.uint32&=~BIT(PUSK_ACTUATOR);","group":8,"x":240,"y":4860,"pos":238},
{"name":"      }else{","group":8,"x":200,"y":4880,"pos":239},
{"name":"      if(IN->Mode.Data.uint8&BIT(PUSK)){","group":8,"x":160,"y":4900,"pos":240},
{"name":"    else{","group":2,"x":200,"y":4920,"pos":241},
{"name":"      OUT->State.Data.uint32 &=~BIT(OPERATOR);","group":8,"x":200,"y":4940,"pos":242},
{"name":"      if (IN->Mode.Data.uint8 & TIME_MODE){","group":1,"x":240,"y":4960,"pos":243},
{"name":"        if(!(OUT->State.Data.uint32 & BIT(TIME))){","group":1,"x":280,"y":4980,"pos":244},
{"name":"#ifdef MEGA12","group":8,"x":280,"y":5000,"pos":245},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":280,"y":5020,"pos":246},
{"name":"#else ","group":8,"x":280,"y":5040,"pos":247},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":280,"y":5060,"pos":248},
{"name":"#endif","group":8,"x":280,"y":5080,"pos":249},
{"name":"        if(!(OUT->State.Data.uint32 & BIT(TIME))){","group":8,"x":240,"y":5100,"pos":250},
{"name":"        OUT->State.Data.uint32 |=BIT(TIME);","group":8,"x":240,"y":5120,"pos":251},
{"name":"        if (IN->Mode.Data.uint8 & BIT(PUSK)){","group":1,"x":280,"y":5140,"pos":252},
{"name":"          OUT->State.Data.uint32&=~BIT(TIMING_PUSK);","group":8,"x":280,"y":5160,"pos":253},
{"name":"          for(i=0;i<TIME_PERIOD_NUMBER;i++)","group":3,"x":320,"y":5180,"pos":254},
{"name":"            if ((IN->Time[i].Data.uint16 !=0xFFFF)&&(IN->Time[i+5].Data.uint16 !=0xFFFF)){","group":1,"x":360,"y":5200,"pos":255},
{"name":"              if (IN->Time[i].Data.uint16 < IN->Time[i+5].Data.uint16){ ","group":1,"x":400,"y":5220,"pos":256},
{"name":"                if ((MinuteOnDay >= IN->Time[i].Data.uint16)&&(MinuteOnDay <= IN->Time[i+5].Data.uint16)){","group":1,"x":440,"y":5240,"pos":257},
{"name":"                  OUT->State.Data.uint32|=BIT(TIMING_PUSK);","group":8,"x":440,"y":5260,"pos":258},
{"name":"                  OUT->State.Data.uint32|=BIT(i+16);","group":8,"x":440,"y":5280,"pos":259},
{"name":"                  break;","group":8,"x":440,"y":5300,"pos":260},
{"name":"                }else {OUT->State.Data.uint32&=~BIT(i+16);}","group":2,"x":440,"y":5320,"pos":261},
{"name":"                }else {OUT->State.Data.uint32&=~BIT(i+16);}","group":8,"x":400,"y":5340,"pos":262},
{"name":"              }else if (IN->Time[i].Data.uint16 > IN->Time[i+5].Data.uint16){","group":1,"x":400,"y":5360,"pos":263},
{"name":"                  OUT->State.Data.uint32|=BIT(TIMING_PUSK);","group":8,"x":440,"y":5400,"pos":265},
{"name":"                  OUT->State.Data.uint32|=BIT(i+16);","group":8,"x":440,"y":5420,"pos":266},
{"name":"                  break;","group":8,"x":440,"y":5440,"pos":267},
{"name":"                }else {OUT->State.Data.uint32&=~BIT(i+16);}","group":2,"x":440,"y":5460,"pos":268},
{"name":"                }else {OUT->State.Data.uint32&=~BIT(i+16);}","group":8,"x":400,"y":5480,"pos":269},
{"name":"                    (MinuteOnDay <= IN->Time[i+5].Data.uint16)){","group":8,"x":360,"y":5500,"pos":270},
{"name":"              }else if (IN->Time[i].Data.uint16 > IN->Time[i+5].Data.uint16){","group":8,"x":320,"y":5520,"pos":271},
{"name":"                if ((MinuteOnDay >= IN->Time[i].Data.uint16)&&(MinuteOnDay <= IN->Time[i+5].Data.uint16)){","group":8,"x":280,"y":5540,"pos":272},
{"name":"              if (IN->Time[i].Data.uint16 < IN->Time[i+5].Data.uint16){ ","group":8,"x":240,"y":5560,"pos":273},
{"name":"      }else{","group":2,"x":240,"y":5580,"pos":274},
{"name":"        OUT->State.Data.uint32 &=~BIT(TIME);","group":8,"x":240,"y":5600,"pos":275},
{"name":"        OUT->State.Data.uint32|=BIT(TIMING_PUSK);","group":8,"x":240,"y":5620,"pos":276},
{"name":"      }else{","group":8,"x":200,"y":5640,"pos":277},
{"name":"      if (IN->Mode.Data.uint8 & TIMER_MODE){","group":1,"x":240,"y":5660,"pos":278},
{"name":"        if(!(OUT->State.Data.uint32 & BIT(TIMER))){","group":1,"x":280,"y":5680,"pos":279},
{"name":"#ifdef MEGA12","group":8,"x":280,"y":5700,"pos":280},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":280,"y":5720,"pos":281},
{"name":"#else ","group":8,"x":280,"y":5740,"pos":282},
{"name":"        OUT->FirstStartTime.Data.uint32 = GetSystemTime_t();","group":8,"x":280,"y":5760,"pos":283},
{"name":"#endif","group":8,"x":280,"y":5780,"pos":284},
{"name":"        if(!(OUT->State.Data.uint32 & BIT(TIMER))){","group":8,"x":240,"y":5800,"pos":285},
{"name":"        OUT->State.Data.uint32 |=BIT(TIMER);","group":8,"x":240,"y":5820,"pos":286},
{"name":"        if((IN->Mode.Data.uint8 & BIT(PUSK)) &&(OUT->State.Data.uint32&BIT(TIMING_PUSK))){","group":1,"x":280,"y":5840,"pos":287},
{"name":"          if(OUT->DownTimer.Data.uint16 == 0 && OUT->UpTimer.Data.uint16 == 0){","group":1,"x":320,"y":5860,"pos":288},
{"name":"            OUT->State.Data.uint32 |=BIT(PUSK_ACTUATOR);","group":8,"x":320,"y":5880,"pos":289},
{"name":"            OUT->UpTimer.Data.uint16 = IN->UpTime.Data.uint16;","group":8,"x":320,"y":5900,"pos":290},
{"name":"            OUT->State.Data.uint32 |=BIT(UP_TIME);","group":8,"x":320,"y":5920,"pos":291},
{"name":"            OUT->State.Data.uint32 &=~BIT(DOWN_TIME);","group":8,"x":320,"y":5940,"pos":292},
{"name":"          if(OUT->DownTimer.Data.uint16 == 0 && OUT->UpTimer.Data.uint16 == 0){","group":8,"x":280,"y":5960,"pos":293},
{"name":"          if (OUT->DownTimer.Data.uint16 != 0 && OUT->UpTimer.Data.uint16 == 0){","group":1,"x":320,"y":5980,"pos":294},
{"name":"            OUT->State.Data.uint32 &=~BIT(PUSK_ACTUATOR);","group":8,"x":320,"y":6000,"pos":295},
{"name":"            if (time_fb68&BIT(MIN)) OUT->DownTimer.Data.uint16--;","group":1,"x":360,"y":6020,"pos":296},
{"name":"              OUT->UpTimer.Data.uint16 = IN->UpTime.Data.uint16;                ","group":8,"x":360,"y":6040,"pos":297},
{"name":"              OUT->State.Data.uint32 |=BIT(PUSK_ACTUATOR);","group":8,"x":360,"y":6060,"pos":298},
{"name":"              OUT->State.Data.uint32 |=BIT(UP_TIME);","group":8,"x":360,"y":6080,"pos":299},
{"name":"              OUT->State.Data.uint32 &=~BIT(DOWN_TIME);","group":8,"x":360,"y":6100,"pos":300},
{"name":"            if (OUT->DownTimer.Data.uint16 == 0){","group":8,"x":320,"y":6120,"pos":301},
{"name":"          }else if (OUT->UpTimer.Data.uint16 != 0 && OUT->DownTimer.Data.uint16 == 0){","group":1,"x":320,"y":6140,"pos":302},
{"name":"            OUT->State.Data.uint32 |=BIT(PUSK_ACTUATOR);","group":8,"x":320,"y":6160,"pos":303},
{"name":"            if (time_fb68&BIT(MIN)) OUT->UpTimer.Data.uint16--;","group":1,"x":360,"y":6180,"pos":304},
{"name":"              OUT->DownTimer.Data.uint16 = IN->DownTime.Data.uint16;                ","group":8,"x":360,"y":6200,"pos":305},
{"name":"              OUT->State.Data.uint32 &=~BIT(PUSK_ACTUATOR);","group":8,"x":360,"y":6220,"pos":306},
{"name":"              OUT->State.Data.uint32 |=BIT(DOWN_TIME);","group":8,"x":360,"y":6240,"pos":307},
{"name":"              OUT->State.Data.uint32 &=~BIT(UP_TIME);","group":8,"x":360,"y":6260,"pos":308},
{"name":"            if (OUT->UpTimer.Data.uint16 == 0){","group":8,"x":320,"y":6280,"pos":309},
{"name":"          }else if (OUT->UpTimer.Data.uint16 != 0 && OUT->DownTimer.Data.uint16 == 0){","group":8,"x":280,"y":6300,"pos":310},
{"name":"        }else{","group":2,"x":280,"y":6320,"pos":311},
{"name":"          OUT->TimerBeforeStart.Data.uint8 = IN->TimeBeforeStart.Data.uint8;","group":8,"x":280,"y":6340,"pos":312},
{"name":"          OUT->State.Data.uint32 &=~BIT(PUSK_ACTUATOR);","group":8,"x":280,"y":6360,"pos":313},
{"name":"          OUT->DownTimer.Data.uint16 = 0; ","group":8,"x":280,"y":6380,"pos":314},
{"name":"          OUT->UpTimer.Data.uint16 = 0;","group":8,"x":280,"y":6400,"pos":315},
{"name":"          OUT->State.Data.uint32 &=~BIT(DOWN_TIME);","group":8,"x":280,"y":6420,"pos":316},
{"name":"          OUT->State.Data.uint32 &=~BIT(UP_TIME);","group":8,"x":280,"y":6440,"pos":317},
{"name":"        }else{","group":8,"x":240,"y":6460,"pos":318},
{"name":"      }else{","group":2,"x":240,"y":6480,"pos":319},
{"name":"        OUT->State.Data.uint32 &=~BIT(TIMER);","group":8,"x":240,"y":6500,"pos":320},
{"name":"        OUT->DownTimer.Data.uint16 = 0; ","group":8,"x":240,"y":6520,"pos":321},
{"name":"        OUT->UpTimer.Data.uint16 = 0;","group":8,"x":240,"y":6540,"pos":322},
{"name":"        OUT->State.Data.uint32 &=~BIT(DOWN_TIME);","group":8,"x":240,"y":6560,"pos":323},
{"name":"        OUT->State.Data.uint32 &=~BIT(UP_TIME);","group":8,"x":240,"y":6580,"pos":324},
{"name":"        if((IN->Mode.Data.uint8 & BIT(PUSK))&&(OUT->State.Data.uint32&BIT(TIMING_PUSK))){   ","group":1,"x":280,"y":6600,"pos":325},
{"name":"          OUT->State.Data.uint32|=BIT(PUSK_ACTUATOR);","group":8,"x":280,"y":6620,"pos":326},
{"name":"        }else{","group":2,"x":280,"y":6640,"pos":327},
{"name":"          OUT->State.Data.uint32&=~BIT(PUSK_ACTUATOR);","group":8,"x":280,"y":6660,"pos":328},
{"name":"        }else{","group":8,"x":240,"y":6680,"pos":329},
{"name":"        if((IN->Mode.Data.uint8 & BIT(PUSK))&&(OUT->State.Data.uint32&BIT(TIMING_PUSK))){   ","group":8,"x":200,"y":6700,"pos":330},
{"name":"      }else{","group":8,"x":160,"y":6720,"pos":331},
{"name":"    ","group":8,"x":160,"y":6740,"pos":332},
{"name":"      OUT->State.Data.uint32 &=~BIT(PUSK_ACTUATOR);","group":8,"x":200,"y":6780,"pos":334},
{"name":"      OUT->DownTimer.Data.uint16 = 0; ","group":8,"x":200,"y":6800,"pos":335},
{"name":"      OUT->UpTimer.Data.uint16 = 0;","group":8,"x":200,"y":6820,"pos":336},
{"name":"        ||((OUT->APVTimer.Data.uint16!=0))){//соответсвующих защит или аварий","group":8,"x":160,"y":6840,"pos":337},
{"name":"  }else{","group":2,"x":160,"y":6860,"pos":338},
{"name":"    OUT->State.Data.uint32&= ~BIT(PUSK_ACTUATOR);","group":8,"x":160,"y":6880,"pos":339},
{"name":"  }else{","group":8,"x":120,"y":6900,"pos":340},
{"name":"","group":8,"x":120,"y":6920,"pos":341},
{"name":"  if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))&&(OUT->State.Data.uint32 & BIT(BEFORSTART))){","group":1,"x":160,"y":6940,"pos":342},
{"name":"    OUT->State.Data.uint32 &=~BIT(PUSK_ACTUATOR);","group":8,"x":160,"y":6960,"pos":343},
{"name":"    if(time_fb68&BIT(SEC)){","group":1,"x":200,"y":6980,"pos":344},
{"name":"      if ((--OUT->TimerBeforeStart.Data.uint8)==0){","group":1,"x":240,"y":7000,"pos":345},
{"name":"        OUT->State.Data.uint32 &=~BIT(BEFORSTART); ","group":8,"x":240,"y":7020,"pos":346},
{"name":"        OUT->State.Data.uint32 |=BIT(PUSK_ACTUATOR);","group":8,"x":240,"y":7040,"pos":347},
{"name":"      if ((--OUT->TimerBeforeStart.Data.uint8)==0){","group":8,"x":200,"y":7060,"pos":348},
{"name":"    if(time_fb68&BIT(SEC)){","group":8,"x":160,"y":7080,"pos":349},
{"name":"  if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))&&(OUT->State.Data.uint32 & BIT(BEFORSTART))){","group":8,"x":120,"y":7100,"pos":350},
{"name":"  if (IN->Mode.Data.uint8 & IMPULSE){ ","group":1,"x":160,"y":7120,"pos":351},
{"name":"    OUT->State.Data.uint32 |=BIT(IMPULSE_MODE);","group":8,"x":160,"y":7140,"pos":352},
{"name":"    if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))!=(input_mask & BIT(ACTUATOR))){","group":1,"x":200,"y":7160,"pos":353},
{"name":"      if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR)) && IN->ActuatorRestart.Data.uint32 && VAR->ActuatorTimer.Data.uint32==0){","group":1,"x":240,"y":7180,"pos":354},
{"name":"        VAR->ActuatorRestartCnt.Data.uint32--;","group":8,"x":240,"y":7200,"pos":355},
{"name":"        VAR->ActuatorTimer.Data.uint32=(IN->ActuatorTime.Data.uint32<3)?3:IN->ActuatorTime.Data.uint32;","group":8,"x":240,"y":7220,"pos":356},
{"name":"        OUT->ActuatorOn.Data.bit = 1;","group":8,"x":240,"y":7240,"pos":357},
{"name":"        OUT->ActuatorOff.Data.bit = 0;","group":8,"x":240,"y":7260,"pos":358},
{"name":"        OUT->State.Data.uint32|=BIT(START_TIME);","group":8,"x":240,"y":7280,"pos":359},
{"name":"        OUT->DisregardTimer.Data.uint16 = IN->DisregardTime.Data.uint16;      ","group":8,"x":240,"y":7300,"pos":360},
{"name":"      if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR)) && IN->ActuatorRestart.Data.uint32 && VAR->ActuatorTimer.Data.uint32==0){","group":8,"x":200,"y":7320,"pos":361},
{"name":"      if (!(OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))){","group":1,"x":240,"y":7340,"pos":362},
{"name":"        OUT->ActuatorOn.Data.bit = 0;","group":8,"x":240,"y":7360,"pos":363},
{"name":"        OUT->ActuatorOff.Data.bit = 1;","group":8,"x":240,"y":7380,"pos":364},
{"name":"      if (!(OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))){","group":8,"x":200,"y":7400,"pos":365},
{"name":"    }else{","group":2,"x":200,"y":7420,"pos":366},
{"name":"      OUT->ActuatorOn.Data.bit = 0;","group":8,"x":200,"y":7440,"pos":367},
{"name":"      OUT->ActuatorOff.Data.bit = 0;","group":8,"x":200,"y":7460,"pos":368},
{"name":"      if (input_mask & BIT(ACTUATOR)){","group":1,"x":240,"y":7480,"pos":369},
{"name":"        VAR->ActuatorRestartCnt.Data.uint32=(IN->ActuatorRestart.Data.uint32>10)?10:IN->ActuatorRestart.Data.uint32;","group":8,"x":240,"y":7500,"pos":370},
{"name":"        VAR->ActuatorTimer.Data.uint32=0;","group":8,"x":240,"y":7520,"pos":371},
{"name":"      if (input_mask & BIT(ACTUATOR)){","group":8,"x":200,"y":7540,"pos":372},
{"name":"    }else{","group":8,"x":160,"y":7560,"pos":373},
{"name":"    if (time_fb68&BIT(SEC)){","group":1,"x":200,"y":7580,"pos":374},
{"name":"      if (VAR->ActuatorTimer.Data.uint32){","group":1,"x":240,"y":7600,"pos":375},
{"name":"        VAR->ActuatorTimer.Data.uint32--;","group":8,"x":240,"y":7620,"pos":376},
{"name":"        if(VAR->ActuatorTimer.Data.uint32==0){","group":1,"x":280,"y":7640,"pos":377},
{"name":"          OUT->ActuatorOn.Data.bit = 0;","group":8,"x":280,"y":7660,"pos":378},
{"name":"          OUT->ActuatorOff.Data.bit = 0;","group":8,"x":280,"y":7680,"pos":379},
{"name":"        if(VAR->ActuatorTimer.Data.uint32==0){","group":8,"x":240,"y":7700,"pos":380},
{"name":"      if (VAR->ActuatorTimer.Data.uint32){","group":8,"x":200,"y":7720,"pos":381},
{"name":"    if (time_fb68&BIT(SEC)){","group":8,"x":160,"y":7740,"pos":382},
{"name":"  }else{                                  ","group":2,"x":160,"y":7760,"pos":383},
{"name":"    OUT->State.Data.uint32 &=~BIT(IMPULSE_MODE);","group":8,"x":160,"y":7780,"pos":384},
{"name":"    if (!(OUT->ActuatorOn.Data.bit) && (OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))){","group":1,"x":200,"y":7800,"pos":385},
{"name":"","group":8,"x":200,"y":7820,"pos":386},
{"name":"      OUT->State.Data.uint32|=BIT(START_TIME);","group":8,"x":200,"y":7840,"pos":387},
{"name":"      OUT->DisregardTimer.Data.uint16 = IN->DisregardTime.Data.uint16;      ","group":8,"x":200,"y":7860,"pos":388},
{"name":"    if (!(OUT->ActuatorOn.Data.bit) && (OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))){","group":8,"x":160,"y":7880,"pos":389},
{"name":"    OUT->ActuatorOn.Data.bit =(OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))?1:0;","group":8,"x":160,"y":7900,"pos":390},
{"name":"    OUT->ActuatorOff.Data.bit= 0 ;","group":8,"x":160,"y":7920,"pos":391},
{"name":"    VAR->ActuatorTimer.Data.uint32=0;","group":8,"x":160,"y":7940,"pos":392},
{"name":"  }else{                                  ","group":8,"x":120,"y":7960,"pos":393},
{"name":"","group":8,"x":120,"y":7980,"pos":394},
{"name":"  if ((DaySec == 0)&&(time_fb68&BIT(SEC))){","group":1,"x":160,"y":8000,"pos":395},
{"name":"    OUT->WattPreviuDay.Data.float32 = OUT->WattCurrentDay.Data.float32;          ","group":8,"x":160,"y":8020,"pos":396},
{"name":"    OUT->WattCurrentDay.Data.float32=0;","group":8,"x":160,"y":8040,"pos":397},
{"name":"  if ((DaySec == 0)&&(time_fb68&BIT(SEC))){","group":8,"x":120,"y":8060,"pos":398},
{"name":"  if((time_fb68&BIT(MIN))){ ","group":1,"x":160,"y":8080,"pos":399},
{"name":"    OUT->WattCurrentDay.Data.float32 +=(float)(0.016666666) * IN->Watt[2].Data.uint16;","group":8,"x":160,"y":8100,"pos":400},
{"name":"  if((time_fb68&BIT(MIN))){ ","group":8,"x":120,"y":8120,"pos":401},
{"name":"","group":8,"x":120,"y":8140,"pos":402},
{"name":"  VAR->Input_mask.Data.uint16 = input_mask ;","group":8,"x":120,"y":8160,"pos":403},
{"name":"  VAR->KernelClk.Data.uint32++;","group":8,"x":120,"y":8180,"pos":404},
{"name":"    if ((OUT->State.Data.uint32&BIT(PUSK_ACTUATOR))!=(input_mask & BIT(ACTUATOR))){","group":8,"x":80,"y":8200,"pos":405},
{"name":"  if (IN->Mode.Data.uint8 & IMPULSE){ ","group":8,"x":80,"y":8220,"pos":406},
{"name":"          if (OUT->DownTimer.Data.uint16 != 0 && OUT->UpTimer.Data.uint16 == 0){","group":8,"x":80,"y":8240,"pos":407},
{"name":"        if((IN->Mode.Data.uint8 & BIT(PUSK)) &&(OUT->State.Data.uint32&BIT(TIMING_PUSK))){","group":8,"x":80,"y":8260,"pos":408},
{"name":"      if (IN->Mode.Data.uint8 & TIMER_MODE){","group":8,"x":80,"y":8280,"pos":409},
{"name":"            if ((IN->Time[i].Data.uint16 !=0xFFFF)&&(IN->Time[i+5].Data.uint16 !=0xFFFF)){","group":8,"x":80,"y":8300,"pos":410},
{"name":"          {","group":8,"x":80,"y":8320,"pos":411},
{"name":"        if (IN->Mode.Data.uint8 & BIT(PUSK)){","group":8,"x":80,"y":8340,"pos":412},
{"name":"      if (IN->Mode.Data.uint8 & TIME_MODE){","group":8,"x":80,"y":8360,"pos":413},
{"name":"    else{","group":8,"x":80,"y":8380,"pos":414},
{"name":"    if(IN->Mode.Data.uint8 & OPERATOR_MODE){","group":8,"x":80,"y":8400,"pos":415},
{"name":"  }else if(input_mask&BIT(AVTO_BUTTON)){","group":8,"x":80,"y":8420,"pos":416},
{"name":"  if(input_mask&BIT(ARM_BUTTON)){ ","group":8,"x":80,"y":8440,"pos":417},
{"name":"    if ((time_fb68&BIT(MIN))&&(OUT->APVTimer.Data.uint16!=0)){","group":8,"x":80,"y":8460,"pos":418},
{"name":"  }else{","group":8,"x":80,"y":8480,"pos":419},
{"name":"  }else if (input_mask&BIT(ACTUATOR)){","group":8,"x":80,"y":8500,"pos":420},
{"name":"  if (!(IN->Mode.Data.uint8&BIT(ENABLE_PRESSURE))){","group":8,"x":80,"y":8520,"pos":421},
{"name":"    if ((time_fb68&BIT(MIN))&&(OUT->SPTimer.Data.uint16!=0)){","group":8,"x":80,"y":8540,"pos":422},
{"name":"  }else{","group":8,"x":80,"y":8560,"pos":423},
{"name":"    if (!(OUT->State.Data.uint32&BIT(START_TIME))){","group":8,"x":80,"y":8580,"pos":424},
{"name":"  }else if (input_mask&BIT(ACTUATOR)){","group":8,"x":80,"y":8600,"pos":425},
{"name":"  if (!(IN->Mode.Data.uint8 & BIT(ENABLE_SP))){","group":8,"x":80,"y":8620,"pos":426},
{"name":"  }else if(IN->InputPressure.Data.uint16 < IN->MinPressure.Data.uint16){","group":8,"x":80,"y":8640,"pos":427},
{"name":"  if(IN->InputPressure.Data.uint16 > IN->MaxPressure.Data.uint16){","group":8,"x":80,"y":8660,"pos":428},
{"name":"  if(IN->KnapOK.Data.bit){","group":8,"x":80,"y":8680,"pos":429},
{"name":"  if(time_fb68&BIT(MIN)){","group":8,"x":80,"y":8700,"pos":430},
{"name":"  if(IN->KnapOK.Data.bit){","group":8,"x":80,"y":8720,"pos":431},
{"name":"    if (input_mask & BIT(ACTUATOR)) {","group":8,"x":80,"y":8740,"pos":432},
{"name":"  if (time_fb68&BIT(SEC)){","group":8,"x":80,"y":8760,"pos":433},
{"name":"  if ((time_fb68&BIT(SEC))&&((VAR->SecTimer.Data.uint32%60)==0)){","group":8,"x":80,"y":8780,"pos":434},
{"name":"  if((VAR->KernelClk.Data.uint32%FBkernelRate)==0){","group":8,"x":80,"y":8800,"pos":435},
{"name":"  if((VAR->KernelClk.Data.uint32%KernelInfo.FBkernelRate)==0){","group":8,"x":80,"y":8820,"pos":436},
{"name":"DigitInput","group":5,"x":40,"y":380.0,"pos":437},
{"name":"DigitInversion","group":5,"x":40,"y":740.0,"pos":438},
{"name":"Mode","group":5,"x":40,"y":1100.0,"pos":439},
{"name":"DownTime","group":5,"x":40,"y":1460.0,"pos":440},
{"name":"UpTime","group":5,"x":40,"y":1820.0,"pos":441},
{"name":"DisregardTime","group":5,"x":40,"y":2180.0,"pos":442},
{"name":"InputPressure","group":5,"x":40,"y":2540.0,"pos":443},
{"name":"MaxPressure","group":5,"x":40,"y":2900.0,"pos":444},
{"name":"DownTimeBigPressure","group":5,"x":40,"y":3260.0,"pos":445},
{"name":"MinPressure","group":5,"x":40,"y":3620.0,"pos":446},
{"name":"DownTimeLowPressure","group":5,"x":40,"y":3980.0,"pos":447},
{"name":"Knap","group":5,"x":40,"y":4340.0,"pos":448},
{"name":"KnapOK","group":5,"x":40,"y":4700.0,"pos":449},
{"name":"KnapPorog","group":5,"x":40,"y":5060.0,"pos":450},
{"name":"KnapIgnor","group":5,"x":40,"y":5420.0,"pos":451},
{"name":"KnapCalc","group":5,"x":40,"y":5780.0,"pos":452},
{"name":"KNAPTime","group":5,"x":40,"y":6140.0,"pos":453},
{"name":"SPTime","group":5,"x":40,"y":6500.0,"pos":454},
{"name":"SPTimeShift","group":5,"x":40,"y":6860.0,"pos":455},
{"name":"SP_Num","group":5,"x":40,"y":7220.0,"pos":456},
{"name":"APV_Num","group":5,"x":40,"y":7580.0,"pos":457},
{"name":"Protection","group":5,"x":40,"y":7940.0,"pos":458},
{"name":"ActuatorTime","group":5,"x":40,"y":8300.0,"pos":459},
{"name":"ActuatorRestart","group":5,"x":40,"y":8660.0,"pos":460},
{"name":"TimeBeforeStart","group":5,"x":40,"y":9020.0,"pos":461},
{"name":"Watt","group":5,"x":40,"y":9380.0,"pos":462},
{"name":"close","group":8,"x":0,"y":8840}],
"links":[{"source":434,"target":38,"value":1},
{"source":435,"target":38,"value":1},
{"source":436,"target":159,"value":1},
{"source":436,"target":187,"value":1},
{"source":436,"target":223,"value":1},
{"source":436,"target":234,"value":1},
{"source":436,"target":240,"value":1},
{"source":436,"target":243,"value":1},
{"source":436,"target":252,"value":1},
{"source":436,"target":278,"value":1},
{"source":436,"target":287,"value":1},
{"source":436,"target":325,"value":1},
{"source":436,"target":330,"value":1},
{"source":436,"target":351,"value":1},
{"source":436,"target":406,"value":1},
{"source":436,"target":408,"value":1},
{"source":436,"target":409,"value":1},
{"source":436,"target":412,"value":1},
{"source":436,"target":413,"value":1},
{"source":436,"target":415,"value":1},
{"source":436,"target":421,"value":1},
{"source":436,"target":426,"value":1},
{"source":437,"target":194,"value":1},
{"source":437,"target":195,"value":1},
{"source":437,"target":196,"value":1},
{"source":437,"target":198,"value":1},
{"source":437,"target":305,"value":1},
{"source":438,"target":290,"value":1},
{"source":438,"target":297,"value":1},
{"source":439,"target":360,"value":1},
{"source":439,"target":388,"value":1},
{"source":440,"target":135,"value":1},
{"source":440,"target":142,"value":1},
{"source":440,"target":427,"value":1},
{"source":440,"target":428,"value":1},
{"source":441,"target":135,"value":1},
{"source":441,"target":428,"value":1},
{"source":442,"target":194,"value":1},
{"source":442,"target":198,"value":1},
{"source":443,"target":142,"value":1},
{"source":443,"target":427,"value":1},
{"source":444,"target":195,"value":1},
{"source":444,"target":196,"value":1},
{"source":445,"target":12,"value":1},
{"source":445,"target":13,"value":1},
{"source":445,"target":29,"value":1},
{"source":445,"target":84,"value":1},
{"source":445,"target":87,"value":1},
{"source":445,"target":88,"value":1},
{"source":445,"target":89,"value":1},
{"source":445,"target":93,"value":1},
{"source":445,"target":95,"value":1},
{"source":445,"target":118,"value":1},
{"source":445,"target":120,"value":1},
{"source":445,"target":121,"value":1},
{"source":445,"target":123,"value":1},
{"source":445,"target":125,"value":1},
{"source":445,"target":126,"value":1},
{"source":445,"target":132,"value":1},
{"source":445,"target":162,"value":1},
{"source":445,"target":171,"value":1},
{"source":445,"target":429,"value":1},
{"source":445,"target":431,"value":1},
{"source":446,"target":84,"value":1},
{"source":446,"target":118,"value":1},
{"source":446,"target":429,"value":1},
{"source":446,"target":431,"value":1},
{"source":447,"target":120,"value":1},
{"source":447,"target":132,"value":1},
{"source":448,"target":13,"value":1},
{"source":448,"target":29,"value":1},
{"source":448,"target":121,"value":1},
{"source":448,"target":126,"value":1},
{"source":448,"target":162,"value":1},
{"source":448,"target":171,"value":1},
{"source":449,"target":12,"value":1},
{"source":449,"target":88,"value":1},
{"source":449,"target":93,"value":1},
{"source":449,"target":95,"value":1},
{"source":449,"target":123,"value":1},
{"source":449,"target":125,"value":1},
{"source":450,"target":69,"value":1},
{"source":451,"target":167,"value":1},
{"source":453,"target":27,"value":1},
{"source":453,"target":128,"value":1},
{"source":453,"target":161,"value":1},
{"source":454,"target":28,"value":1},
{"source":454,"target":189,"value":1},
{"source":455,"target":197,"value":1},
{"source":455,"target":200,"value":1},
{"source":456,"target":356,"value":1},
{"source":457,"target":23,"value":1},
{"source":457,"target":354,"value":1},
{"source":457,"target":361,"value":1},
{"source":457,"target":370,"value":1},
{"source":458,"target":26,"value":1},
{"source":458,"target":105,"value":1},
{"source":458,"target":237,"value":1},
{"source":458,"target":312,"value":1},
{"source":459,"target":400,"value":1},
{"source":1,"target":0,"value":1}
]}